(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{2837:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return l(33)}])},33:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return x}});var a=l(5893),s=l(7294),r=l(509),n=l(7905),c=l(1163);function o(e){let{stats:t,showDetails:l=!1,size:r="md",className:n=""}=e,{icon:o,color:i,text:d,details:u}=(0,s.useMemo)(()=>{if(!t)return{icon:c.hKd,color:"text-neutral-500",text:"Disconnected",details:"No connection"};switch(t.connectionQuality){case"excellent":return{icon:c._0,color:"text-green-400",text:"Excellent",details:"".concat(t.latency,"ms • ").concat(t.packetLoss,"% loss")};case"good":return{icon:c._0,color:"text-green-300",text:"Good",details:"".concat(t.latency,"ms • ").concat(t.packetLoss,"% loss")};case"fair":return{icon:c.VyL,color:"text-yellow-400",text:"Fair",details:"".concat(t.latency,"ms • ").concat(t.packetLoss,"% loss")};case"poor":return{icon:c.swE,color:"text-red-400",text:"Poor",details:"".concat(t.latency,"ms • ").concat(t.packetLoss,"% loss")};default:return{icon:c.hKd,color:"text-neutral-500",text:"Disconnected",details:"No connection"}}},[t]),x={sm:{icon:"w-3 h-3",text:"text-xs",container:"gap-1"},md:{icon:"w-4 h-4",text:"text-sm",container:"gap-2"},lg:{icon:"w-5 h-5",text:"text-base",container:"gap-2"}}[r];return l?(0,a.jsxs)("div",{className:"flex flex-col ".concat(n),children:[(0,a.jsxs)("div",{className:"flex items-center ".concat(x.container),children:[(0,a.jsx)(o,{className:"".concat(x.icon," ").concat(i)}),(0,a.jsx)("span",{className:"".concat(x.text," ").concat(i," font-medium"),children:d})]}),t&&(0,a.jsx)("div",{className:"text-xs text-neutral-400 mt-1",children:u})]}):(0,a.jsxs)("div",{className:"flex items-center ".concat(x.container," ").concat(n),children:[(0,a.jsx)(o,{className:"".concat(x.icon," ").concat(i)}),l&&(0,a.jsx)("span",{className:"".concat(x.text," ").concat(i),children:d})]})}function i(e){var t;let{stats:l}=e;return l?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-neutral-400",children:"Connection Quality"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o,{stats:l,size:"sm"}),(0,a.jsx)("span",{className:"text-sm font-medium capitalize ".concat((e=>{switch(e){case"excellent":return"text-green-400";case"good":return"text-green-300";case"fair":return"text-yellow-400";case"poor":return"text-red-400";default:return"text-neutral-500"}})(l.connectionQuality)),children:l.connectionQuality})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-neutral-400",children:"Latency"}),(0,a.jsxs)("span",{className:"text-white",children:[l.latency,"ms"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-neutral-400",children:"Jitter"}),(0,a.jsxs)("span",{className:"text-white",children:[l.jitter,"ms"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-neutral-400",children:"Packet Loss"}),(0,a.jsxs)("span",{className:"text-white",children:[l.packetLoss,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-neutral-400",children:"Bitrate"}),(0,a.jsx)("span",{className:"text-white",children:(t=l.bitrate)<1e3?"".concat(t," bps"):t<1e6?"".concat((t/1e3).toFixed(1)," kbps"):"".concat((t/1e6).toFixed(1)," Mbps")})]})]})]}):(0,a.jsx)("div",{className:"text-center text-neutral-500 py-4",children:"No connection data available"})}var d=l(1664),u=l.n(d);function x(){var e,t;let[o,d]=(0,s.useState)([]),[x,h]=(0,s.useState)([]),[m,f]=(0,s.useState)(""),[p,g]=(0,s.useState)(""),[b,v]=(0,s.useState)("LeftAlt"),[j,w]=(0,s.useState)(!1),[N,y]=(0,s.useState)(0),[k,S]=(0,s.useState)("top-right"),[C,I]=(0,s.useState)(1),[D,E]=(0,s.useState)(!0),[T,A]=(0,s.useState)(!0),[L,U]=(0,s.useState)(!0),[M,F]=(0,s.useState)(.03),[O,_]=(0,s.useState)(!0),[P,R]=(0,s.useState)(.01),[B,q]=(0,s.useState)(!1),[G,J]=(0,s.useState)(!1),[z,V]=(0,s.useState)(!1),[H,K]=(0,s.useState)("idle"),[Q,W]=(0,s.useState)(null),[X,Y]=(0,s.useState)(0),$=(0,s.useRef)(null),Z=(0,s.useRef)(null),ee=(0,s.useRef)(null),{setVadThreshold:et}=(0,r.n)("idle","local-settings"),{setPushToTalkEnabled:el,connectionStats:ea}=(0,n.M)(),[es,er]=(0,s.useState)(!1),[en,ec]=(0,s.useState)(0),eo=(0,s.useRef)(null);(0,s.useEffect)(()=>{try{let e=localStorage.getItem("hexcall-mic");e&&f(e);let t=localStorage.getItem("hexcall-speaker");t&&g(t);let l=localStorage.getItem("hexcall-ptt-key");l&&v(l);let a=localStorage.getItem("hexcall-ptt-enabled");a&&w("1"===a);let s=localStorage.getItem("hexcall-audio-ec"),r=localStorage.getItem("hexcall-audio-ns"),n=localStorage.getItem("hexcall-audio-agc"),c=localStorage.getItem("hexcall-audio-gate");null!==s&&E("0"!==s),null!==r&&A("0"!==r),null!==n&&U("0"!==n),null!==c&&F(Number(c));let o=localStorage.getItem("hexcall-auto-join");null!==o&&_("0"!==o);let i=localStorage.getItem("hexcall-vad-threshold");null!==i&&R(Number(i));let d=localStorage.getItem("hexcall-start-on-boot");null!==d&&q("0"!==d)}catch(e){}},[]);let ei=async()=>{try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(e=>e.stop())}catch(e){}let e=await navigator.mediaDevices.enumerateDevices();d(e.filter(e=>"audioinput"===e.kind)),h(e.filter(e=>"audiooutput"===e.kind))};function ed(){var e,t,l;ee.current&&cancelAnimationFrame(ee.current),ee.current=null,null===(e=Z.current)||void 0===e||e.disconnect(),null===(t=$.current)||void 0===t||t.close().catch(()=>{}),Z.current=null,$.current=null,null===(l=eo.current)||void 0===l||l.getTracks().forEach(e=>e.stop()),eo.current=null}async function eu(){ed();try{let e=m?{deviceId:m}:{};e.echoCancellation=D,e.noiseSuppression=T,e.autoGainControl=L,eo.current=await navigator.mediaDevices.getUserMedia({audio:!Object.keys(e).length||e}),$.current=new(window.AudioContext||window.webkitAudioContext);let t=$.current.createMediaStreamSource(eo.current),l=$.current.createScriptProcessor(256,1,1);l.onaudioprocess=e=>{let t=e.inputBuffer.getChannelData(0),l=e.outputBuffer.getChannelData(0),a=0;for(let e=0;e<t.length;e++){let l=t[e];a+=l*l}let s=Math.sqrt(a/t.length);for(let e=0;e<t.length;e++)l[e]=s<M?0:t[e]},Z.current=$.current.createAnalyser(),Z.current.fftSize=256,t.connect(l).connect(Z.current);let a=new Uint8Array(Z.current.frequencyBinCount),s=()=>{if(!Z.current)return;Z.current.getByteTimeDomainData(a);let e=0;for(let t=0;t<a.length;t++){let l=(a[t]-128)/128;e+=l*l}let t=Math.sqrt(e/a.length);y(t),ee.current=requestAnimationFrame(s)};s()}catch(e){y(0)}}(0,s.useEffect)(()=>{ei()},[]),(0,s.useEffect)(()=>(eu(),()=>ed()),[m,D,T,L,M]),(0,s.useEffect)(()=>{try{localStorage.setItem("hexcall-mic",m||"")}catch(e){}},[m]),(0,s.useEffect)(()=>{try{localStorage.setItem("hexcall-speaker",p||"")}catch(e){}document.querySelectorAll("audio").forEach(e=>{"setSinkId"in e&&p&&e.setSinkId(p)})},[p]),(0,s.useEffect)(()=>{try{localStorage.setItem("hexcall-ptt-key",b||"")}catch(e){}},[b]),(0,s.useEffect)(()=>{try{localStorage.setItem("hexcall-ptt-enabled",j?"1":"0")}catch(e){}},[j]),(0,s.useEffect)(()=>{try{localStorage.setItem("hexcall-auto-join",O?"1":"0")}catch(e){}},[O]),(0,s.useEffect)(()=>{try{localStorage.setItem("hexcall-audio-ec",D?"1":"0")}catch(e){}},[D]),(0,s.useEffect)(()=>{try{localStorage.setItem("hexcall-audio-ns",T?"1":"0")}catch(e){}},[T]),(0,s.useEffect)(()=>{try{localStorage.setItem("hexcall-audio-agc",L?"1":"0")}catch(e){}},[L]),(0,s.useEffect)(()=>{try{localStorage.setItem("hexcall-audio-gate",String(M))}catch(e){}},[M]),(0,s.useEffect)(()=>{try{localStorage.setItem("hexcall-vad-threshold",String(P))}catch(e){}},[P]),(0,s.useEffect)(()=>{try{var e,t;localStorage.setItem("hexcall-start-on-boot",B?"1":"0"),null===(t=window.hexcall)||void 0===t||null===(e=t.setAutoStart)||void 0===e||e.call(t,B)}catch(e){}},[B]),(0,s.useEffect)(()=>{try{var e,t,l,a;let s=localStorage.getItem("hexcall-overlay-corner"),r=Number(localStorage.getItem("hexcall-overlay-scale")||"1");s&&S(s),r&&I(r),null===(t=window.hexcall)||void 0===t||null===(e=t.setOverlayCorner)||void 0===e||e.call(t,s||"top-right"),null===(a=window.hexcall)||void 0===a||null===(l=a.setOverlayScale)||void 0===l||l.call(a,r||1)}catch(e){}},[]),(0,s.useEffect)(()=>{var e,t;try{localStorage.setItem("hexcall-overlay-corner",k)}catch(e){}null===(t=window.hexcall)||void 0===t||null===(e=t.setOverlayCorner)||void 0===e||e.call(t,k)},[k]),(0,s.useEffect)(()=>{var e,t;try{localStorage.setItem("hexcall-overlay-scale",String(C))}catch(e){}null===(t=window.hexcall)||void 0===t||null===(e=t.setOverlayScale)||void 0===e||e.call(t,C)},[C]);let ex="local-"+((null===(t=window.crypto)||void 0===t?void 0:null===(e=t.randomUUID)||void 0===e?void 0:e.call(t))||"user"),{connected:eh,join:em,mute:ef,canJoin:ep,applyConstraints:eg,setVadThreshold:eb}=(0,r.n)("test-room",ex,m);(0,s.useEffect)(()=>{null==eg||eg({echoCancellation:D,noiseSuppression:T,autoGainControl:L})},[eg,D,T,L]),(0,s.useEffect)(()=>{null==et||et(P)},[et,P]),(0,s.useEffect)(()=>{try{let e=localStorage.getItem("hexcall-push-to-talk");if(e){let t=JSON.parse(e);w(t.enabled||!1),v(t.key||"CapsLock")}}catch(e){}},[]),(0,s.useEffect)(()=>{var e;try{localStorage.setItem("hexcall-push-to-talk",JSON.stringify({enabled:j,key:b}))}catch(e){}(null===(e=window.hexcall)||void 0===e?void 0:e.pushToTalkUpdateSettings)&&window.hexcall.pushToTalkUpdateSettings(j,b),null==el||el(j)},[j,b,el]),(0,s.useEffect)(()=>{var e,t,l,a,s,r,n,c,o,i;if(!window.hexcall)return;let d=null===(e=(t=window.hexcall).onUpdateNone)||void 0===e?void 0:e.call(t,()=>{K("none")}),u=null===(l=(a=window.hexcall).onUpdateAvailable)||void 0===l?void 0:l.call(a,e=>{K("available"),W(e)}),x=null===(s=(r=window.hexcall).onUpdateProgress)||void 0===s?void 0:s.call(r,e=>{K("downloading"),Y(Math.round((null==e?void 0:e.percent)||0))}),h=null===(n=(c=window.hexcall).onUpdateDownloaded)||void 0===n?void 0:n.call(c,()=>{K("downloaded"),Y(100),confirm("Update downloaded successfully! Would you like to install and restart the app now?")&&ew()}),m=null===(o=(i=window.hexcall).onUpdateError)||void 0===o?void 0:o.call(i,e=>{console.error("Update error:",e),K("idle"),Y(0)});return()=>{null==d||d(),null==u||u(),null==x||x(),null==h||h(),null==m||m()}},[]);let ev=async()=>{K("checking"),W(null),Y(0);try{var e,t;await (null===(t=window.hexcall)||void 0===t?void 0:null===(e=t.updatesCheck)||void 0===e?void 0:e.call(t))}catch(e){console.error("Failed to check for updates:",e),K("idle")}},ej=async()=>{try{var e,t;K("downloading"),Y(0);let l=await (null===(t=window.hexcall)||void 0===t?void 0:null===(e=t.updatesDownload)||void 0===e?void 0:e.call(t));l&&!l.success&&(console.error("Download failed:",l.error),K("available"),alert("Failed to download update: "+l.error))}catch(e){console.error("Failed to download update:",e),K("available"),alert("Failed to download update. Please check your internet connection and try again.")}},ew=async()=>{try{var e,t;console.log("Installing update and restarting..."),K("installing");let l=await (null===(t=window.hexcall)||void 0===t?void 0:null===(e=t.updatesQuitAndInstall)||void 0===e?void 0:e.call(t));l&&!l.success&&(console.error("Install failed:",l.error),K("downloaded"),alert("Failed to install update: "+l.error))}catch(e){console.error("Failed to install update:",e),K("downloaded"),alert("Failed to install update. Please try again or download manually.")}},eN=async()=>{try{er(!0);let e=await navigator.mediaDevices.getUserMedia({audio:{deviceId:m||void 0}}),t=new(window.AudioContext||window.webkitAudioContext),l=t.createMediaStreamSource(e),a=t.createAnalyser();a.fftSize=256,l.connect(a);let s=new Uint8Array(a.frequencyBinCount),r=()=>{if(!es){e.getTracks().forEach(e=>e.stop()),t.close();return}a.getByteFrequencyData(s);let l=s.reduce((e,t)=>e+t,0)/s.length;ec(l/255),requestAnimationFrame(r)};r()}catch(e){console.error("Audio test failed:",e),er(!1)}};async function ey(){try{let e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator();t.type="sine",t.frequency.value=440;let l=e.createGain();l.gain.value=.1;let a=e.createMediaStreamDestination();t.connect(l).connect(a),t.start();let s=new Audio;s.setSinkId&&p&&await s.setSinkId(p),s.srcObject=a.stream,s.play(),setTimeout(()=>{t.stop(),e.close()},800)}catch(e){}}return(0,s.useEffect)(()=>{Promise.resolve().then(l.bind(l,834)).then(e=>{let{VoiceClient:t}=e,l=window.__hexcall_vc;l&&"function"==typeof l.onLevel&&(l.onLevel=e=>y(e))})},[]),(0,a.jsx)("div",{className:"bg-hextech min-h-full",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(u(),{href:"/",className:"w-10 h-10 rounded-xl bg-neutral-800/50 hover:bg-neutral-700/50 border border-neutral-700/50 flex items-center justify-center transition-colors",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-neutral-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Settings"}),(0,a.jsx)("p",{className:"text-neutral-400 text-sm mt-1",children:"Configure your HexCall experience"})]})]}),(0,a.jsxs)("button",{onClick:()=>J(!G),className:"px-4 py-2 rounded-xl transition-colors flex items-center gap-2 text-sm font-medium ".concat(G?"bg-red-500/20 text-red-400 border border-red-500/30":"bg-neutral-800/50 text-neutral-300 border border-neutral-700/50 hover:bg-neutral-700/50"),children:[(0,a.jsx)(c.iq7,{className:"w-4 h-4"}),G?"Hide Debug":"Debug Mode"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"glass rounded-2xl p-6 col-span-1 lg:col-span-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-cyan-500 flex items-center justify-center",children:(0,a.jsx)(c.uYL,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Audio Devices"}),(0,a.jsx)("p",{className:"text-sm text-neutral-400",children:"Configure your microphone and speakers"})]}),(0,a.jsx)("button",{onClick:ei,className:"w-10 h-10 rounded-xl bg-neutral-800/50 hover:bg-neutral-700/50 border border-neutral-700/50 flex items-center justify-center transition-colors",title:"Refresh devices",children:(0,a.jsx)(c.Rc_,{className:"w-4 h-4 text-neutral-300"})})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-neutral-300 mb-2 block",children:"Microphone"}),(0,a.jsxs)("select",{className:"w-full bg-neutral-800/50 border border-neutral-700/50 rounded-xl px-4 py-3 text-white focus:border-violet-500/50 focus:ring-1 focus:ring-violet-500/20 transition-colors",value:m,onChange:e=>f(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"System Default"}),o.map(e=>(0,a.jsx)("option",{value:e.deviceId,children:e.label||"Microphone"},e.deviceId))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-neutral-300 mb-2 block",children:"Output Device"}),(0,a.jsxs)("select",{className:"w-full bg-neutral-800/50 border border-neutral-700/50 rounded-xl px-4 py-3 text-white focus:border-violet-500/50 focus:ring-1 focus:ring-violet-500/20 transition-colors",value:p,onChange:e=>g(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"System Default"}),x.map(e=>(0,a.jsx)("option",{value:e.deviceId,children:e.label||"Speakers"},e.deviceId))]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:ey,className:"flex-1 px-4 py-2 rounded-xl bg-neutral-800/50 hover:bg-neutral-700/50 border border-neutral-700/50 text-neutral-300 hover:text-white transition-colors text-sm font-medium",children:"Test Output"}),(0,a.jsx)("button",{onClick:es?()=>{er(!1),ec(0)}:eN,className:"flex-1 px-4 py-2 rounded-xl text-sm font-medium transition-colors ".concat(es?"bg-red-500/20 text-red-400 border border-red-500/30 hover:bg-red-500/30":"bg-violet-500/20 text-violet-400 border border-violet-500/30 hover:bg-violet-500/30"),children:es?"Stop Test":"Test Mic"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-neutral-300 mb-2 block",children:"Microphone Level"}),(0,a.jsx)("div",{className:"h-3 bg-neutral-800/50 rounded-full overflow-hidden border border-neutral-700/50",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-violet-500 to-cyan-500 transition-[width] duration-100",style:{width:"".concat(100*Math.min(1,4*N),"%")}})}),(0,a.jsx)("p",{className:"text-xs text-neutral-400 mt-1",children:"Speak to test your microphone"})]}),es&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-neutral-300 mb-2 block",children:"Test Audio Level"}),(0,a.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,a.jsx)("div",{className:"flex-1 h-3 bg-neutral-800/50 rounded-full overflow-hidden border border-neutral-700/50",children:(0,a.jsx)("div",{className:"bg-green-500 h-full rounded-full transition-all",style:{width:"".concat(100*en,"%")}})}),(0,a.jsxs)("span",{className:"text-sm text-green-400 min-w-[3ch] font-mono",children:[Math.round(100*en),"%"]})]})]})]})]})]}),(0,a.jsxs)("div",{className:"glass rounded-2xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center",children:(0,a.jsx)(c.mdD,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Voice Controls"}),(0,a.jsx)("p",{className:"text-sm text-neutral-400",children:"Push-to-talk and auto-join settings"})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-neutral-300",children:"Push-to-Talk"}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:j,onChange:e=>w(e.target.checked),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-neutral-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-violet-500"})]})]}),j&&(0,a.jsx)("input",{className:"w-full bg-neutral-800/50 border border-neutral-700/50 rounded-xl px-4 py-3 text-white focus:border-violet-500/50 focus:ring-1 focus:ring-violet-500/20 transition-colors text-center font-mono",value:b,onChange:e=>v(e.target.value),placeholder:"Enter key..."})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-neutral-300",children:"Auto-join League Calls"}),(0,a.jsx)("p",{className:"text-xs text-neutral-400 mt-1",children:"Automatically join when a League game starts"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:O,onChange:e=>_(e.target.checked),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-neutral-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-neutral-300",children:"Start on System Boot"}),(0,a.jsx)("p",{className:"text-xs text-neutral-400 mt-1",children:"Launch HexCall when Windows starts"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:B,onChange:e=>q(e.target.checked),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-neutral-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-500"})]})]})]})]}),(0,a.jsxs)("div",{className:"glass rounded-2xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center",children:(0,a.jsx)(c.R$S,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Audio Processing"}),(0,a.jsx)("p",{className:"text-sm text-neutral-400",children:"Enhance your audio quality"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-neutral-300",children:"Echo Cancellation"}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:D,onChange:e=>E(e.target.checked),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-neutral-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-neutral-300",children:"Noise Suppression"}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:T,onChange:e=>A(e.target.checked),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-neutral-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-neutral-300",children:"Auto Gain Control"}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:L,onChange:e=>U(e.target.checked),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-neutral-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("label",{className:"text-sm text-neutral-300",children:"Noise Gate"}),(0,a.jsx)("span",{className:"text-xs text-neutral-400 font-mono",children:M.toFixed(3)})]}),(0,a.jsx)("input",{type:"range",min:0,max:.2,step:.005,value:M,onChange:e=>F(Number(e.target.value)),className:"w-full h-2 bg-neutral-700 rounded-lg appearance-none cursor-pointer slider",style:{background:"linear-gradient(to right, rgb(34 197 94) 0%, rgb(34 197 94) ".concat(M/.2*100,"%, rgb(64 64 64) ").concat(M/.2*100,"%, rgb(64 64 64) 100%)")}})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("label",{className:"text-sm text-neutral-300",children:"Voice Detection Threshold"}),(0,a.jsx)("span",{className:"text-xs text-neutral-400 font-mono",children:P.toFixed(3)})]}),(0,a.jsx)("input",{type:"range",min:.001,max:.1,step:.001,value:P,onChange:e=>R(Number(e.target.value)),className:"w-full h-2 bg-neutral-700 rounded-lg appearance-none cursor-pointer slider",style:{background:"linear-gradient(to right, rgb(34 197 94) 0%, rgb(34 197 94) ".concat(P/.1*100,"%, rgb(64 64 64) ").concat(P/.1*100,"%, rgb(64 64 64) 100%)")}}),(0,a.jsx)("p",{className:"text-xs text-neutral-500",children:"Lower = more sensitive, Higher = less sensitive"})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,a.jsx)("button",{onClick:()=>em(),disabled:!ep,className:"flex-1 btn-primary px-4 py-2 rounded-xl disabled:opacity-50 text-sm font-medium",children:eh?"Connected":ep?"Test Room":"Waiting..."}),(0,a.jsx)("button",{onClick:()=>ef(!0),className:"px-4 py-2 rounded-xl bg-neutral-800/50 hover:bg-neutral-700/50 border border-neutral-700/50 text-neutral-300 hover:text-white transition-colors text-sm",children:"Mute"}),(0,a.jsx)("button",{onClick:()=>ef(!1),className:"px-4 py-2 rounded-xl bg-neutral-800/50 hover:bg-neutral-700/50 border border-neutral-700/50 text-neutral-300 hover:text-white transition-colors text-sm",children:"Unmute"})]})]})]}),(0,a.jsxs)("div",{className:"glass rounded-2xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-yellow-500 to-orange-500 flex items-center justify-center",children:(0,a.jsx)(c.dSq,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Overlay"}),(0,a.jsx)("p",{className:"text-sm text-neutral-400",children:"In-game overlay position and size"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-neutral-300",children:"Preview Overlay"}),(0,a.jsx)("p",{className:"text-xs text-neutral-400 mt-1",children:"Show overlay preview with mock data"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:z,onChange:e=>V(e.target.checked),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-neutral-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-yellow-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-neutral-300 mb-2 block",children:"Position"}),(0,a.jsxs)("select",{className:"w-full bg-neutral-800/50 border border-neutral-700/50 rounded-xl px-4 py-3 text-white focus:border-violet-500/50 focus:ring-1 focus:ring-violet-500/20 transition-colors",value:k,onChange:e=>S(e.target.value),children:[(0,a.jsx)("option",{value:"top-right",children:"Top Right"}),(0,a.jsx)("option",{value:"top-left",children:"Top Left"}),(0,a.jsx)("option",{value:"bottom-right",children:"Bottom Right"}),(0,a.jsx)("option",{value:"bottom-left",children:"Bottom Left"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-neutral-300",children:"Scale"}),(0,a.jsxs)("span",{className:"text-xs text-neutral-400 font-mono",children:[C.toFixed(2),"x"]})]}),(0,a.jsx)("input",{type:"range",min:.75,max:1.5,step:.05,value:C,onChange:e=>I(Number(e.target.value)),className:"w-full h-2 bg-neutral-700 rounded-lg appearance-none cursor-pointer slider",style:{background:"linear-gradient(to right, rgb(234 179 8) 0%, rgb(234 179 8) ".concat((C-.75)/.75*100,"%, rgb(64 64 64) ").concat((C-.75)/.75*100,"%, rgb(64 64 64) 100%)")}})]})]})]}),(0,a.jsxs)("div",{className:"glass rounded-2xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:(0,a.jsx)(c.ef0,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white",children:"App Updates"}),(0,a.jsx)("p",{className:"text-sm text-neutral-400",children:"Keep HexCall up to date"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,a.jsx)("button",{onClick:ev,disabled:"checking"===H||"downloading"===H,className:"flex items-center gap-2 bg-blue-500/20 hover:bg-blue-500/30 disabled:bg-neutral-700/50 text-blue-400 disabled:text-neutral-400 px-4 py-2 rounded-xl transition-colors text-sm font-medium disabled:cursor-not-allowed border border-blue-500/30 disabled:border-neutral-600/30",children:"checking"===H?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.fCD,{className:"animate-spin w-4 h-4"}),"Checking..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Rc_,{className:"w-4 h-4"}),"Check Updates"]})}),"available"===H&&(0,a.jsxs)("button",{onClick:ej,className:"flex items-center gap-2 bg-green-500/20 hover:bg-green-500/30 text-green-400 px-4 py-2 rounded-xl transition-colors text-sm font-medium border border-green-500/30",children:[(0,a.jsx)(c.aBF,{className:"w-4 h-4"}),"Download"]}),"downloaded"===H&&(0,a.jsxs)("button",{onClick:ew,className:"flex items-center gap-2 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 px-4 py-2 rounded-xl transition-colors text-sm font-medium border border-purple-500/30",children:[(0,a.jsx)(c.l_A,{className:"w-4 h-4"}),"Install & Restart"]}),"installing"===H&&(0,a.jsxs)("button",{disabled:!0,className:"flex items-center gap-2 bg-purple-500/20 text-purple-400 px-4 py-2 rounded-xl text-sm font-medium border border-purple-500/30 opacity-75 cursor-not-allowed",children:[(0,a.jsx)(c.fCD,{className:"animate-spin w-4 h-4"}),"Installing..."]})]}),"downloading"===H&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-neutral-400",children:[(0,a.jsx)("span",{children:"Downloading update..."}),(0,a.jsxs)("span",{className:"font-mono",children:[X,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-neutral-800/50 rounded-full h-2 border border-neutral-700/50",children:(0,a.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(X,"%")}})})]}),(0,a.jsxs)("div",{className:"text-xs text-neutral-400 p-3 bg-neutral-800/30 rounded-xl border border-neutral-700/30",children:["none"===H&&"✅ No updates available","available"===H&&Q&&(0,a.jsxs)("span",{children:["\uD83D\uDE80 Update available: v",Q.version]}),"downloaded"===H&&"⚡ Update ready to install","installing"===H&&"\uD83D\uDD04 Installing update and restarting app...","idle"===H&&'\uD83D\uDD0D Click "Check Updates" to see if a new version is available']})]})]}),(0,a.jsxs)("div",{className:"glass rounded-2xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-500 flex items-center justify-center",children:(0,a.jsx)(c.c67,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Settings Backup"}),(0,a.jsx)("p",{className:"text-sm text-neutral-400",children:"Export and import your settings"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>{let e=new Blob([JSON.stringify({selectedMic:m,selectedSpeaker:p,pushToTalkKey:b,usePushToTalk:j,corner:k,scale:C,echoCancellation:D,noiseSuppression:T,autoGainControl:L,vadThreshold:P,autoJoin:O,version:"1.0",exportDate:new Date().toISOString()},null,2)],{type:"application/json"}),t=URL.createObjectURL(e),l=document.createElement("a");l.href=t,l.download="hexcall-settings-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(t)},className:"flex-1 bg-violet-500/20 hover:bg-violet-500/30 text-violet-400 px-4 py-2 rounded-xl transition-colors text-sm font-medium border border-violet-500/30",children:"Export Settings"}),(0,a.jsxs)("label",{className:"flex-1 bg-neutral-800/50 hover:bg-neutral-700/50 text-neutral-300 hover:text-white px-4 py-2 rounded-xl transition-colors text-sm font-medium cursor-pointer text-center border border-neutral-700/50",children:["Import Settings",(0,a.jsx)("input",{type:"file",accept:".json",onChange:e=>{var t;let l=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!l)return;let a=new FileReader;a.onload=e=>{try{var t;let l=JSON.parse(null===(t=e.target)||void 0===t?void 0:t.result);l.selectedMic&&f(l.selectedMic),l.selectedSpeaker&&g(l.selectedSpeaker),l.pushToTalkKey&&v(l.pushToTalkKey),"boolean"==typeof l.usePushToTalk&&w(l.usePushToTalk),l.corner&&S(l.corner),"number"==typeof l.scale&&I(l.scale),"boolean"==typeof l.echoCancellation&&E(l.echoCancellation),"boolean"==typeof l.noiseSuppression&&A(l.noiseSuppression),"boolean"==typeof l.autoGainControl&&U(l.autoGainControl),"number"==typeof l.vadThreshold&&R(l.vadThreshold),"boolean"==typeof l.autoJoin&&_(l.autoJoin),alert("Settings imported successfully!")}catch(e){alert("Failed to import settings. Please check the file format.")}},a.readAsText(l)},className:"hidden"})]})]}),(0,a.jsx)("p",{className:"text-xs text-neutral-400 p-3 bg-neutral-800/30 rounded-xl border border-neutral-700/30",children:"\uD83D\uDCBE Export your settings to backup or share with other devices. Import to restore previous settings."})]})]}),G&&(0,a.jsxs)("div",{className:"glass rounded-2xl p-6 col-span-1 lg:col-span-2 xl:col-span-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-red-500 to-orange-500 flex items-center justify-center",children:(0,a.jsx)(c.iq7,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Debug Information"}),(0,a.jsx)("p",{className:"text-sm text-neutral-400",children:"Connection stats and technical details"})]})]}),(0,a.jsx)(i,{stats:ea||null})]})]}),z&&(0,a.jsx)("div",{className:"fixed z-50 pointer-events-none ".concat("top-right"===k?"top-4 right-4":"top-left"===k?"top-4 left-4":"bottom-right"===k?"bottom-4 right-4":"bottom-4 left-4"),style:{transform:"scale(".concat(C,")")},children:(0,a.jsxs)("div",{className:"bg-neutral-900/95 backdrop-blur-sm border border-neutral-700/50 rounded-2xl p-4 min-w-[280px]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-xs text-neutral-400 font-medium",children:"Voice Chat Preview"})]}),(0,a.jsx)("div",{className:"space-y-2",children:[{name:"You",speaking:!0,muted:!1},{name:"Teammate Alpha",speaking:!1,muted:!1},{name:"Teammate Beta",speaking:!1,muted:!0},{name:"Teammate Gamma",speaking:!0,muted:!1},{name:"Teammate Delta",speaking:!1,muted:!1}].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-lg transition-all ".concat(e.speaking?"bg-green-500/20 ring-1 ring-green-500/30":"bg-neutral-800/30"),children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ".concat(e.speaking?"bg-green-500 text-white":"bg-neutral-600 text-neutral-300"),children:e.name.charAt(0)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-sm text-white truncate",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-neutral-400",children:"Connected: 2m 15s"})]}),e.muted&&(0,a.jsx)("div",{className:"w-4 h-4 rounded bg-red-500/20 flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-2 h-2 bg-red-400 rounded-full"})})]},t))}),(0,a.jsx)("div",{className:"mt-3 pt-2 border-t border-neutral-700/30",children:(0,a.jsx)("div",{className:"text-xs text-neutral-500 text-center",children:"Preview Mode • 5 participants"})})]})})]})})}}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=2837)}),_N_E=e.O()}]);