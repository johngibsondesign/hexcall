(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(2694)}])},7319:function(e,t,s){"use strict";s.d(t,{Q:function(){return r},v:function(){return o}});var n=s(5893),a=s(7294);let l="14.20.1";class i{static getChampionIconUrl(e){let{championName:t,championId:s,version:n=l,fallbackToProfileIcon:a=!0,profileIconId:i}=e,c=[];return t&&(c.push("https://ddragon.leagueoflegends.com/cdn/".concat(n,"/img/champion/").concat(t,".png")),n!==l&&c.push("https://ddragon.leagueoflegends.com/cdn/".concat(l,"/img/champion/").concat(t,".png")),c.push("https://ddragon.leagueoflegends.com/cdn/img/champion/loading/".concat(t,"_0.jpg")),c.push("https://ddragon.leagueoflegends.com/cdn/img/champion/splash/".concat(t,"_0.jpg"))),s&&!t&&c.push("https://ddragon.leagueoflegends.com/cdn/".concat(n,"/img/champion/loading/Champion").concat(s,"_0.jpg")),a&&i&&(c.push("https://ddragon.leagueoflegends.com/cdn/".concat(n,"/img/profileicon/").concat(i,".png")),n!==l&&c.push("https://ddragon.leagueoflegends.com/cdn/".concat(l,"/img/profileicon/").concat(i,".png"))),c.push("https://ddragon.leagueoflegends.com/cdn/".concat(n,"/img/profileicon/29.png")),c.filter(e=>!this.failedUrls.has(e))}static async loadChampionIcon(e){let t=JSON.stringify(e);if(this.cache.has(t))return this.cache.get(t);for(let s of this.getChampionIconUrl(e))try{if(await this.testImageUrl(s))return this.cache.set(t,s),s;this.failedUrls.add(s)}catch(e){this.failedUrls.add(s);continue}return null}static testImageUrl(e){return new Promise(t=>{let s=new Image;s.onload=()=>t(!0),s.onerror=()=>t(!1),s.src=e,setTimeout(()=>t(!1),3e3)})}static async preloadChampionIcons(e){let t=e.map(async e=>{(e.championName||e.championId)&&await this.loadChampionIcon({championName:e.championName,championId:e.championId,profileIconId:e.profileIconId})});await Promise.allSettled(t)}static clearCache(){this.cache.clear(),this.failedUrls.clear()}static getCacheStats(){return{cacheSize:this.cache.size,failedUrlsCount:this.failedUrls.size}}}function c(e){let{role:t,className:s}=e,a=(t||"").toLowerCase(),l={top:"\uD83D\uDEE1️",jungle:"\uD83C\uDF3F",mid:"\uD83D\uDDE1️",adc:"\uD83C\uDFF9",bottom:"\uD83C\uDFF9",support:"✨"}[a]||"\uD83C\uDFA7";return(0,n.jsx)("span",{className:s,"aria-label":a||"unknown",title:a||"unknown",children:l})}function r(e){let{alt:t,className:s="w-full h-full object-cover",role:l,showLoadingSpinner:r=!1,...o}=e,[d,u]=(0,a.useState)(null),[m,x]=(0,a.useState)(!0),[h,p]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{let e=!1,t=async()=>{x(!0),p(!1);try{let t=await i.loadChampionIcon(o);e||(t?u(t):p(!0))}catch(t){e||p(!0)}finally{e||x(!1)}};return o.championName||o.championId||o.profileIconId?t():(x(!1),p(!0)),()=>{e=!0}},[JSON.stringify(o)]),m&&r)?(0,n.jsx)("div",{className:"".concat(s," flex items-center justify-center bg-neutral-800"),children:(0,n.jsx)("div",{className:"w-4 h-4 border-2 border-violet-500 border-t-transparent rounded-full animate-spin"})}):d&&!h?(0,n.jsx)("img",{src:d,alt:t,className:s,onError:()=>p(!0)}):(0,n.jsx)(c,{role:l,className:s})}function o(e){let{showPreview:t=!1,previewClassName:s="absolute top-full left-1/2 transform -translate-x-1/2 w-32 h-48 object-cover rounded-lg shadow-xl z-50",...l}=e,[i,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{t&&l.championName&&c("https://ddragon.leagueoflegends.com/cdn/img/champion/splash/".concat(l.championName,"_0.jpg"))},[t,l.championName]),(0,n.jsxs)("div",{className:"relative group",children:[(0,n.jsx)(r,{...l}),t&&i&&(0,n.jsx)("img",{src:i,alt:"".concat(l.alt," splash art"),className:"".concat(s," opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none"),onError:()=>c(null)})]})}i.cache=new Map,i.failedUrls=new Set},6825:function(e,t,s){"use strict";s.d(t,{J:function(){return i},l:function(){return c}});var n=s(5893),a=s(7294),l=s(2956);function i(e){let{stats:t,showDetails:s=!1,size:i="md",className:c=""}=e,{icon:r,color:o,text:d,details:u}=(0,a.useMemo)(()=>{if(!t)return{icon:l.hKd,color:"text-neutral-500",text:"Disconnected",details:"No connection"};switch(t.connectionQuality){case"excellent":return{icon:l._0,color:"text-green-400",text:"Excellent",details:"".concat(t.latency,"ms • ").concat(t.packetLoss,"% loss")};case"good":return{icon:l._0,color:"text-green-300",text:"Good",details:"".concat(t.latency,"ms • ").concat(t.packetLoss,"% loss")};case"fair":return{icon:l.VyL,color:"text-yellow-400",text:"Fair",details:"".concat(t.latency,"ms • ").concat(t.packetLoss,"% loss")};case"poor":return{icon:l.swE,color:"text-red-400",text:"Poor",details:"".concat(t.latency,"ms • ").concat(t.packetLoss,"% loss")};default:return{icon:l.hKd,color:"text-neutral-500",text:"Disconnected",details:"No connection"}}},[t]),m={sm:{icon:"w-3 h-3",text:"text-xs",container:"gap-1"},md:{icon:"w-4 h-4",text:"text-sm",container:"gap-2"},lg:{icon:"w-5 h-5",text:"text-base",container:"gap-2"}}[i];return s?(0,n.jsxs)("div",{className:"flex flex-col ".concat(c),children:[(0,n.jsxs)("div",{className:"flex items-center ".concat(m.container),children:[(0,n.jsx)(r,{className:"".concat(m.icon," ").concat(o)}),(0,n.jsx)("span",{className:"".concat(m.text," ").concat(o," font-medium"),children:d})]}),t&&(0,n.jsx)("div",{className:"text-xs text-neutral-400 mt-1",children:u})]}):(0,n.jsxs)("div",{className:"flex items-center ".concat(m.container," ").concat(c),children:[(0,n.jsx)(r,{className:"".concat(m.icon," ").concat(o)}),s&&(0,n.jsx)("span",{className:"".concat(m.text," ").concat(o),children:d})]})}function c(e){var t;let{stats:s}=e;return s?(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-sm text-neutral-400",children:"Connection Quality"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(i,{stats:s,size:"sm"}),(0,n.jsx)("span",{className:"text-sm font-medium capitalize ".concat((e=>{switch(e){case"excellent":return"text-green-400";case"good":return"text-green-300";case"fair":return"text-yellow-400";case"poor":return"text-red-400";default:return"text-neutral-500"}})(s.connectionQuality)),children:s.connectionQuality})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-neutral-400",children:"Latency"}),(0,n.jsxs)("span",{className:"text-white",children:[s.latency,"ms"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-neutral-400",children:"Jitter"}),(0,n.jsxs)("span",{className:"text-white",children:[s.jitter,"ms"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-neutral-400",children:"Packet Loss"}),(0,n.jsxs)("span",{className:"text-white",children:[s.packetLoss,"%"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-neutral-400",children:"Bitrate"}),(0,n.jsx)("span",{className:"text-white",children:(t=s.bitrate)<1e3?"".concat(t," bps"):t<1e6?"".concat((t/1e3).toFixed(1)," kbps"):"".concat((t/1e6).toFixed(1)," Mbps")})]})]})]}):(0,n.jsx)("div",{className:"text-center text-neutral-500 py-4",children:"No connection data available"})}},7362:function(e,t,s){"use strict";s.d(t,{O:function(){return i},o:function(){return c}});var n=s(5893),a=s(7294),l=s(2956);function i(e){let{userId:t,initialVolume:s=1,onVolumeChange:i,className:c="",size:r="md"}=e,[o,d]=(0,a.useState)(s),[u,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{d(s)},[s]);let x=e=>{let s=Math.max(0,Math.min(1,e));d(s),i(t,s)},h=0===o?l.Eju:o<.5?l.KLu:l.R$S,p={sm:{slider:"w-16 h-1",container:"gap-1",icon:"w-3 h-3",text:"text-xs"},md:{slider:"w-20 h-1.5",container:"gap-2",icon:"w-4 h-4",text:"text-sm"},lg:{slider:"w-24 h-2",container:"gap-2",icon:"w-5 h-5",text:"text-base"}}[r];return(0,n.jsxs)("div",{className:"flex items-center ".concat(p.container," ").concat(c),children:[(0,n.jsx)(h,{className:"".concat(p.icon," text-neutral-400 flex-shrink-0")}),(0,n.jsx)("div",{className:"relative flex-1",children:(0,n.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:o,onChange:e=>x(Number(e.target.value)),onMouseDown:()=>m(!0),onMouseUp:()=>m(!1),className:"\n            ".concat(p.slider," \n            appearance-none bg-neutral-700 rounded-full cursor-pointer\n            focus:outline-none focus:ring-2 focus:ring-violet-500/50\n            [&::-webkit-slider-thumb]:appearance-none\n            [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3\n            [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white\n            [&::-webkit-slider-thumb]:cursor-pointer [&::-webkit-slider-thumb]:shadow-md\n            [&::-webkit-slider-thumb]:transition-all [&::-webkit-slider-thumb]:duration-150\n            hover:[&::-webkit-slider-thumb]:bg-violet-400\n            ").concat(u?"[&::-webkit-slider-thumb]:bg-violet-500 [&::-webkit-slider-thumb]:scale-110":"","\n          "),style:{background:"linear-gradient(to right, #8b5cf6 0%, #8b5cf6 ".concat(100*o,"%, #404040 ").concat(100*o,"%, #404040 100%)")}})}),(0,n.jsx)("span",{className:"".concat(p.text," text-neutral-400 font-mono min-w-[2rem] text-center"),children:Math.round(100*o)})]})}function c(e){let{userId:t,initialVolume:s=1,onVolumeChange:a}=e;return(0,n.jsx)(i,{userId:t,initialVolume:s,onVolumeChange:a,size:"sm",className:"px-2 py-1"})}},2694:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var n=s(5893),a=s(9008),l=s.n(a),i=s(1664),c=s.n(i),r=s(7294),o=s(117),d=s(2956),u=s(7319),m=s(7362),x=s(6825);function h(e){var t,a,l,i;let{visible:c,onClose:d}=e,[u,m]=(0,r.useState)(null),[x,h]=(0,r.useState)("unknown"),[p,g]=(0,r.useState)(null),f=(0,o.M)();return((0,r.useEffect)(()=>{var e,t;if(!c)return;console.log("[Debug] Setting up LCU listener...");let n=null===(t=window.hexcall)||void 0===t?void 0:null===(e=t.onLcuUpdate)||void 0===e?void 0:e.call(t,e=>{console.log("[Debug] Received LCU update:",e),m(e)});return n||console.log("[Debug] No LCU update listener available - IPC may not be working"),(async()=>{try{let{getSupabase:e}=await Promise.resolve().then(s.bind(s,3932)),t=e();if(!t){h("No Supabase client (missing env vars?)");return}try{let e=t.channel("test-connection");await e.subscribe(),await e.unsubscribe(),h("Supabase connected")}catch(e){h("Supabase connection test failed: ".concat(e))}}catch(e){h("Supabase test failed: ".concat(e))}})(),()=>{null==n||n()}},[c]),(0,r.useEffect)(()=>{g({joinedRoomId:null==f?void 0:f.joinedRoomId,connected:null==f?void 0:f.connected,muted:null==f?void 0:f.muted,speakingUsers:(null==f?void 0:f.speakingUsers)?Array.from(f.speakingUsers):[],connectionStats:null==f?void 0:f.connectionStats})},[f]),c)?(0,n.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"bg-neutral-900 border border-neutral-700 rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Debug Information"}),(0,n.jsx)("button",{onClick:d,className:"text-neutral-400 hover:text-white transition-colors",children:"✕"})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Environment"}),(0,n.jsxs)("div",{className:"bg-neutral-800 rounded-lg p-3 text-sm font-mono",children:[(0,n.jsxs)("div",{children:["SUPABASE_URL: ","✓ Set"]}),(0,n.jsxs)("div",{children:["SUPABASE_KEY: ","✓ Set"]}),(0,n.jsxs)("div",{children:["TURN_URL: ","✓ Set"]}),(0,n.jsxs)("div",{children:["TURN_USERNAME: ","✓ Set"]}),(0,n.jsxs)("div",{className:"text-xs text-neutral-500 mt-2",children:["TURN URL: ","stun:stun.relay.metered.ca:80,turn:standard.relay.metered.ca:80,turn:standard.relay.metered.ca:80?transport=tcp,turn:standard.relay.metered.ca:443,turns:standard.relay.metered.ca:443?transport=tcp".slice(0,50),"..."]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Supabase Connection"}),(0,n.jsx)("div",{className:"bg-neutral-800 rounded-lg p-3 text-sm",children:(0,n.jsx)("div",{className:x.includes("connected")?"text-green-400":"text-red-400",children:x})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"League of Legends Status"}),(0,n.jsx)("div",{className:"bg-neutral-800 rounded-lg p-3 text-sm",children:u?(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsxs)("div",{children:["Phase: ",(0,n.jsx)("span",{className:"text-blue-400",children:u.phase||"Unknown"})]}),(0,n.jsxs)("div",{children:["Game Phase: ",(0,n.jsx)("span",{className:"text-blue-400",children:u.gamePhase||"Unknown"})]}),(0,n.jsxs)("div",{children:["Members: ",(0,n.jsx)("span",{className:"text-blue-400",children:(null===(t=u.members)||void 0===t?void 0:t.length)||0})]}),(0,n.jsxs)("div",{children:["Lobby ID: ",(0,n.jsx)("span",{className:"text-blue-400",children:(null===(a=u.lobby)||void 0===a?void 0:a.lobbyId)||"None"})]}),(0,n.jsxs)("div",{children:["Party ID: ",(0,n.jsx)("span",{className:"text-blue-400",children:(null===(l=u.lobby)||void 0===l?void 0:l.partyId)||"None"})]}),u.self&&(0,n.jsxs)("div",{children:["Self: ",(0,n.jsx)("span",{className:"text-blue-400",children:u.self.puuid?"Detected":"Not detected"})]}),u.error&&(0,n.jsxs)("div",{className:"text-red-400",children:["Error: ",u.error]}),(0,n.jsxs)("div",{className:"text-xs text-neutral-500",children:["Raw data: ",JSON.stringify(u).slice(0,100),"..."]})]}):(0,n.jsx)("div",{className:"text-yellow-400",children:"Waiting for LCU data..."})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Voice Room Status"}),(0,n.jsxs)("div",{className:"bg-neutral-800 rounded-lg p-3 text-sm space-y-1",children:[(0,n.jsxs)("div",{children:["Room ID: ",(0,n.jsx)("span",{className:"text-blue-400",children:(null==p?void 0:p.joinedRoomId)||"None"})]}),(0,n.jsxs)("div",{children:["Connected: ",(0,n.jsx)("span",{className:(null==p?void 0:p.connected)?"text-green-400":"text-red-400",children:(null==p?void 0:p.connected)?"Yes":"No"})]}),(0,n.jsxs)("div",{children:["Muted: ",(0,n.jsx)("span",{className:"text-blue-400",children:(null==p?void 0:p.muted)?"Yes":"No"})]}),(0,n.jsxs)("div",{children:["Speaking Users: ",(0,n.jsx)("span",{className:"text-blue-400",children:(null==p?void 0:null===(i=p.speakingUsers)||void 0===i?void 0:i.length)||0})]}),(null==p?void 0:p.connectionStats)&&(0,n.jsxs)("div",{children:["Connection Quality: ",(0,n.jsx)("span",{className:"text-blue-400",children:p.connectionStats.connectionQuality})]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Troubleshooting"}),(0,n.jsxs)("div",{className:"bg-neutral-800 rounded-lg p-3 text-sm space-y-2",children:[(0,n.jsx)("div",{className:"text-neutral-300",children:"1. Make sure League of Legends is running and you're in a lobby or game"}),(0,n.jsx)("div",{className:"text-neutral-300",children:'2. Check that Supabase connection is working (should show "connected")'}),(0,n.jsx)("div",{className:"text-neutral-300",children:'3. If you\'re alone, try the "Start Manual Call" feature to test voice'}),(0,n.jsx)("div",{className:"text-neutral-300",children:"4. Check browser console (F12) for any JavaScript errors"}),(0,n.jsx)("div",{className:"mt-3",children:(0,n.jsx)("button",{onClick:()=>{var e;console.log("Manual League detection test triggered"),(null===(e=window.hexcall)||void 0===e?void 0:e.onLcuUpdate)?console.log("LCU update listener exists"):console.log("No LCU update listener found - Electron process may need restart")},className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-xs font-medium",children:"Test League Detection"})})]})]})]})]})}):null}function p(){let{joinedRoomId:e,connected:t,joinCall:s,leaveCall:a,muted:i,setMuted:p,speakingUsers:g,isSelfSpeaking:f,userCode:b,joinByCode:j,createManualCall:v,setUserVolume:N,getUserVolume:w,connectionStats:y}=(0,o.M)(),[C,k]=(0,r.useState)("Waiting for League..."),[S,I]=(0,r.useState)([]),[L,U]=(0,r.useState)("Unknown"),[D,E]=(0,r.useState)(!1),[R,P]=(0,r.useState)(""),[M,_]=(0,r.useState)(!1),[F,T]=(0,r.useState)(!1),[O,z]=(0,r.useState)("CapsLock"),[J,A]=(0,r.useState)(!1);(0,r.useEffect)(()=>{try{let e=localStorage.getItem("hexcall-push-to-talk");if(e){let t=JSON.parse(e);T(t.enabled||!1),z(t.key||"CapsLock")}}catch(e){}},[]),(0,r.useEffect)(()=>{var e,t;let s=null===(t=window.hexcall)||void 0===t?void 0:null===(e=t.onLcuUpdate)||void 0===e?void 0:e.call(t,e=>{let t=(null==e?void 0:e.gamePhase)||"Unknown";U(t),k({Lobby:"In Lobby",Matchmaking:"Finding Match...",ReadyCheck:"Match Ready!",ChampSelect:"Champion Select",InProgress:"In Game",EndOfGame:"Game Complete",NotFound:"League Not Running",Unknown:"Connecting..."}[t]||t);let s=(null==e?void 0:e.members)||[],n=["top","jungle","mid","adc","support","bottom"];I(s.map(e=>{var t;return{...e,normalizedRole:"bottom"===e.assignedPosition?"adc":null===(t=e.assignedPosition)||void 0===t?void 0:t.toLowerCase()}}).sort((e,t)=>{let s=n.indexOf(e.normalizedRole||""),a=n.indexOf(t.normalizedRole||"");return -1!==s&&-1!==a?s-a:-1!==s?-1:-1!==a?1:(e.summonerName||e.gameName||"").localeCompare(t.summonerName||t.gameName||"")}).slice(0,5))});return()=>{s&&s()}},[]);let V=(0,r.useMemo)(()=>["Matchmaking","ReadyCheck","ChampSelect","Lobby","InProgress"].includes(L),[L]),Y=async()=>{try{await navigator.clipboard.writeText(b||"")}catch(e){console.error("Failed to copy code:",e)}},G=async()=>{try{await (null==v?void 0:v()),await (null==s?void 0:s(!0))}catch(e){console.error("Failed to create manual call:",e)}},Q=async()=>{if(R.trim()){_(!0);try{await (null==j?void 0:j(R.trim())),await (null==s?void 0:s(!0)),E(!1),P("")}catch(e){console.error("Failed to join by code:",e)}finally{_(!1)}}};return(0,n.jsxs)("div",{className:"min-h-screen bg-hextech flex flex-col",children:[(0,n.jsx)(l(),{children:(0,n.jsx)("title",{children:"Hexcall - League Voice Chat"})}),(0,n.jsxs)("header",{className:"flex items-center justify-between px-6 py-4 border-b border-white/10",children:[(0,n.jsxs)("div",{className:"flex items-center gap-6",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("h1",{className:"text-xl font-semibold text-gradient",children:"Hexcall"}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,n.jsx)(d.iVx,{className:"text-neutral-400"}),(0,n.jsx)("span",{className:C.includes("Finding")||C.includes("Connecting")?"text-yellow-400":C.includes("Ready")||C.includes("Game")?"text-green-400":C.includes("Not Running")?"text-red-400":"text-blue-400",children:C})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-neutral-900/50 rounded-lg border border-white/10",children:[(0,n.jsx)("span",{className:"text-xs text-neutral-400",children:"Your Code:"}),(0,n.jsxs)("button",{onClick:Y,className:"flex items-center gap-2 text-sm font-mono font-bold text-white hover:text-violet-400 transition-colors",title:"Click to copy",children:[b,(0,n.jsx)(d.esY,{className:"w-3 h-3"})]})]})]}),(0,n.jsx)(c(),{href:"/settings",className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:(0,n.jsx)(d.mdD,{className:"w-5 h-5 text-neutral-400"})})]}),(0,n.jsx)("main",{className:"flex-1 flex flex-col",children:t&&e?(0,n.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,n.jsx)("div",{className:"px-6 py-4 border-b border-white/10",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Voice Call Active"}),(0,n.jsxs)("p",{className:"text-sm text-neutral-400",children:["Room: ",e]})]}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsxs)("div",{className:"flex items-center gap-1 text-sm text-green-400",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Connected"]})})]})}),(0,n.jsx)("div",{className:"flex-1 p-6",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,n.jsxs)("h3",{className:"text-sm font-medium text-neutral-300 mb-4 flex items-center gap-2",children:[(0,n.jsx)(d.I$,{}),"Team (",S.length,"/5)"]}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:S.map((e,t)=>{var s;let a=(null==g?void 0:g.has(e.puuid||""))||(null==g?void 0:g.has(e.name||"")),l=e.assignedPosition||e.role||"unknown",i="bottom"===l?"ADC":l.toUpperCase();return(0,n.jsxs)("div",{className:"glass rounded-xl p-4 text-center relative",children:["unknown"!==l&&(0,n.jsx)("div",{className:"absolute -top-2 -right-2 ".concat({TOP:"bg-blue-500",JUNGLE:"bg-green-500",MID:"bg-yellow-500",ADC:"bg-red-500",BOTTOM:"bg-red-500",SUPPORT:"bg-purple-500"}[i]||"bg-neutral-500"," text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg"),children:i}),(0,n.jsx)("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full overflow-hidden flex items-center justify-center ring-2 transition-all ".concat(a?"ring-green-400 shadow-lg shadow-green-400/25 animate-pulse":"ring-white/20"),children:(0,n.jsx)(u.v,{championName:e.championName,championId:e.championId,profileIconId:e.profileIconId,alt:e.summonerName||e.gameName||"Player",role:l,className:"w-full h-full object-cover",showPreview:!0})}),(0,n.jsx)("div",{className:"text-sm font-medium text-white truncate",children:e.summonerName||e.gameName||"Player"}),(0,n.jsx)("div",{className:"text-xs text-neutral-400 capitalize",children:"bottom"===l?"ADC":l}),(0,n.jsx)("div",{className:"mt-3 w-full",children:(0,n.jsx)(m.O,{userId:e.puuid||e.summonerName||e.gameName||"player-".concat(t),initialVolume:null!==(s=null==w?void 0:w(e.puuid||e.summonerName||e.gameName||"player-".concat(t)))&&void 0!==s?s:1,onVolumeChange:(e,t)=>null==N?void 0:N(e,t),size:"sm"})}),a&&(0,n.jsxs)("div",{className:"mt-2 text-xs text-green-400 flex items-center justify-center gap-1",children:[(0,n.jsx)(d.uYL,{className:"animate-pulse"}),"Speaking"]})]},e.puuid||t)})})]})}),(0,n.jsx)("div",{className:"px-6 py-4 border-t border-white/10",children:(0,n.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,n.jsx)("button",{onClick:()=>null==p?void 0:p(!i),className:"w-12 h-12 rounded-full flex items-center justify-center transition-all ".concat(i?"bg-red-500 hover:bg-red-600 text-white":"bg-neutral-700 hover:bg-neutral-600 text-neutral-300"),title:i?"Unmute":"Mute",children:i?(0,n.jsx)(d.RgM,{}):(0,n.jsx)(d.uYL,{})}),(0,n.jsx)("button",{onClick:()=>null==a?void 0:a(),className:"w-12 h-12 rounded-full bg-red-500 hover:bg-red-600 text-white flex items-center justify-center transition-all",title:"Leave Call",children:(0,n.jsx)(d.tNS,{})})]})})]}):V?(0,n.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center max-w-md mx-auto px-6",children:[(0,n.jsx)("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-violet-500 to-cyan-500 flex items-center justify-center",children:(0,n.jsx)(d.I7T,{className:"w-10 h-10 text-white"})}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Ready to Connect"}),(0,n.jsx)("p",{className:"text-neutral-400 mb-8",children:"Join voice chat with your League teammates"}),(0,n.jsxs)("button",{onClick:()=>null==s?void 0:s(!0),className:"btn-primary px-8 py-3 rounded-xl font-semibold flex items-center gap-3 mx-auto hover:scale-105 transition-transform",children:[(0,n.jsx)(d.I7T,{}),"Join League Chat"]})]})}):(0,n.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center max-w-lg mx-auto px-6",children:[(0,n.jsx)("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-neutral-800 flex items-center justify-center",children:(0,n.jsx)(d.iVx,{className:"w-10 h-10 text-neutral-400"})}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Ready for Voice Chat"}),(0,n.jsx)("p",{className:"text-neutral-400 mb-8",children:"Start League of Legends for auto-join, or create a manual call"}),(0,n.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,n.jsxs)("button",{onClick:G,className:"w-full btn-primary px-6 py-3 rounded-xl font-semibold flex items-center justify-center gap-3 hover:scale-105 transition-transform",children:[(0,n.jsx)(d.wEH,{}),"Start Manual Call"]}),(0,n.jsxs)("button",{onClick:()=>E(!0),className:"w-full px-6 py-3 rounded-xl chip hover:bg-white/10 border border-white/10 font-semibold flex items-center justify-center gap-3 transition-all",children:[(0,n.jsx)(d.I7T,{}),"Join by Code"]})]}),(0,n.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,n.jsx)(c(),{href:"/settings",className:"px-6 py-2 rounded-lg chip hover:bg-white/10 border border-white/10",children:"Settings"}),(0,n.jsx)(c(),{href:"/overlay",className:"px-6 py-2 rounded-lg chip hover:bg-white/10 border border-white/10",children:"Preview Overlay"}),(0,n.jsx)("button",{onClick:()=>A(!0),className:"px-6 py-2 rounded-lg chip hover:bg-white/10 border border-white/10",children:"\uD83D\uDC1B Debug"})]})]})})}),(0,n.jsx)("footer",{className:"px-6 py-2 border-t border-white/10 bg-neutral-950/50",children:(0,n.jsxs)("div",{className:"flex items-center justify-between text-xs text-neutral-400",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(x.J,{stats:y||null,size:"sm"}),(0,n.jsx)("span",{children:"Connection"})]}),F?(0,n.jsxs)("span",{children:["Push-to-Talk: ",O]}):(0,n.jsx)("span",{children:"Hotkey: Ctrl+Shift+M"})]}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:f&&(0,n.jsxs)("div",{className:"flex items-center gap-1 text-green-400",children:[(0,n.jsx)(d.uYL,{className:"animate-pulse"}),(0,n.jsx)("span",{children:"Speaking"})]})})]})}),D&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,n.jsxs)("div",{className:"bg-neutral-900 rounded-2xl p-6 w-full max-w-md border border-white/10",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Join by Code"}),(0,n.jsx)("p",{className:"text-neutral-400 text-sm mb-6",children:"Enter a 6-character code to join someone's call"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("input",{type:"text",placeholder:"Enter code (e.g. ABC123)",value:R,onChange:e=>P(e.target.value.toUpperCase()),maxLength:6,className:"w-full px-4 py-3 bg-neutral-800 border border-neutral-700 rounded-xl text-white font-mono text-center text-lg tracking-wider focus:border-violet-500 focus:outline-none",autoFocus:!0}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("button",{onClick:()=>{E(!1),P("")},className:"flex-1 px-4 py-3 rounded-xl chip hover:bg-white/10 border border-white/10 transition-all",children:"Cancel"}),(0,n.jsx)("button",{onClick:Q,disabled:6!==R.length||M,className:"flex-1 btn-primary px-4 py-3 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:M?"Joining...":"Join Call"})]})]})]})}),(0,n.jsx)(h,{visible:J,onClose:()=>A(!1)})]})}},9008:function(e,t,s){e.exports=s(3867)}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);