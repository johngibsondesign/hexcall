(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(7003)}])},7003:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var l=s(5893),n=s(9008),a=s.n(n),r=s(1664),i=s.n(r),o=s(7294),c=s(6675),d=s(5050);function u(e){let{userId:t,initialVolume:s=1,onVolumeChange:n,className:a="",size:r="md"}=e,[i,c]=(0,o.useState)(s),[u,x]=(0,o.useState)(!1);(0,o.useEffect)(()=>{c(s)},[s]);let m=e=>{let s=Math.max(0,Math.min(1,e));c(s),n(t,s)},h=0===i?d.Eju:i<.5?d.KLu:d.R$S,b={sm:{slider:"w-16 h-1",container:"gap-1",icon:"w-3 h-3",text:"text-xs"},md:{slider:"w-20 h-1.5",container:"gap-2",icon:"w-4 h-4",text:"text-sm"},lg:{slider:"w-24 h-2",container:"gap-2",icon:"w-5 h-5",text:"text-base"}}[r];return(0,l.jsxs)("div",{className:"flex items-center ".concat(b.container," ").concat(a),children:[(0,l.jsx)(h,{className:"".concat(b.icon," text-neutral-400 flex-shrink-0")}),(0,l.jsx)("div",{className:"relative flex-1",children:(0,l.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:i,onChange:e=>m(Number(e.target.value)),onMouseDown:()=>x(!0),onMouseUp:()=>x(!1),className:"\n            ".concat(b.slider," \n            appearance-none bg-neutral-700 rounded-full cursor-pointer\n            focus:outline-none focus:ring-2 focus:ring-violet-500/50\n            [&::-webkit-slider-thumb]:appearance-none\n            [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3\n            [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white\n            [&::-webkit-slider-thumb]:cursor-pointer [&::-webkit-slider-thumb]:shadow-md\n            [&::-webkit-slider-thumb]:transition-all [&::-webkit-slider-thumb]:duration-150\n            hover:[&::-webkit-slider-thumb]:bg-violet-400\n            ").concat(u?"[&::-webkit-slider-thumb]:bg-violet-500 [&::-webkit-slider-thumb]:scale-110":"","\n          "),style:{background:"linear-gradient(to right, #8b5cf6 0%, #8b5cf6 ".concat(100*i,"%, #404040 ").concat(100*i,"%, #404040 100%)")}})}),(0,l.jsx)("span",{className:"".concat(b.text," text-neutral-400 font-mono min-w-[2rem] text-center"),children:Math.round(100*i)})]})}function x(e){var t,n,a,r,i,d;let{visible:u,onClose:x}=e,[m,h]=(0,o.useState)(null),[b,g]=(0,o.useState)("unknown"),[p,f]=(0,o.useState)(null),j=(0,c.M)();return((0,o.useEffect)(()=>{var e,t;if(!u)return;console.log("[Debug] Setting up LCU listener...");let l=null===(t=window.hexcall)||void 0===t?void 0:null===(e=t.onLcuUpdate)||void 0===e?void 0:e.call(t,e=>{console.log("[Debug] Received LCU update:",e),h(e)});return l||console.log("[Debug] No LCU update listener available - IPC may not be working"),(async()=>{try{let{getSupabase:e}=await Promise.resolve().then(s.bind(s,470)),t=e();if(!t){g("No Supabase client (missing env vars?)");return}try{let e=t.channel("test-connection");await e.subscribe(),await e.unsubscribe(),g("Supabase connected")}catch(e){g("Supabase connection test failed: ".concat(e))}}catch(e){g("Supabase test failed: ".concat(e))}})(),()=>{null==l||l()}},[u]),(0,o.useEffect)(()=>{f({joinedRoomId:null==j?void 0:j.joinedRoomId,connected:null==j?void 0:j.connected,muted:null==j?void 0:j.muted,speakingUsers:(null==j?void 0:j.speakingUsers)?Array.from(j.speakingUsers):[],connectionStats:null==j?void 0:j.connectionStats})},[j]),u)?(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"bg-neutral-900 border border-neutral-700 rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Debug Information"}),(0,l.jsx)("button",{onClick:x,className:"text-neutral-400 hover:text-white transition-colors",children:"✕"})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Environment"}),(0,l.jsxs)("div",{className:"bg-neutral-800 rounded-lg p-3 text-sm font-mono",children:[(0,l.jsxs)("div",{children:["SUPABASE_URL: ","✓ Set"]}),(0,l.jsxs)("div",{children:["SUPABASE_KEY: ","✓ Set"]}),(0,l.jsxs)("div",{children:["TURN_URL: ","✓ Set"]}),(0,l.jsxs)("div",{children:["TURN_USERNAME: ","✓ Set"]}),(0,l.jsxs)("div",{className:"text-xs text-neutral-500 mt-2",children:["TURN URL: ","stun:stun.relay.metered.ca:80,turn:standard.relay.metered.ca:80,turn:standard.relay.metered.ca:80?transport=tcp,turn:standard.relay.metered.ca:443,turns:standard.relay.metered.ca:443?transport=tcp".slice(0,50),"..."]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Supabase Connection"}),(0,l.jsx)("div",{className:"bg-neutral-800 rounded-lg p-3 text-sm",children:(0,l.jsx)("div",{className:b.includes("connected")?"text-green-400":"text-red-400",children:b})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"League of Legends Status"}),(0,l.jsx)("div",{className:"bg-neutral-800 rounded-lg p-3 text-sm",children:m?(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("div",{children:["Phase: ",(0,l.jsx)("span",{className:"text-blue-400",children:m.phase||"Unknown"})]}),(0,l.jsxs)("div",{children:["Game Phase: ",(0,l.jsx)("span",{className:"text-blue-400",children:m.gamePhase||"Unknown"})]}),(0,l.jsxs)("div",{children:["Members: ",(0,l.jsx)("span",{className:"text-blue-400",children:(null===(t=m.members)||void 0===t?void 0:t.length)||0})]}),(0,l.jsxs)("div",{children:["Lobby ID: ",(0,l.jsx)("span",{className:"text-blue-400",children:"object"==typeof(null===(n=m.lobby)||void 0===n?void 0:n.lobbyId)?JSON.stringify(m.lobby.lobbyId):(null===(a=m.lobby)||void 0===a?void 0:a.lobbyId)||"None"})]}),(0,l.jsxs)("div",{children:["Party ID: ",(0,l.jsx)("span",{className:"text-blue-400",children:"object"==typeof(null===(r=m.lobby)||void 0===r?void 0:r.partyId)?JSON.stringify(m.lobby.partyId):(null===(i=m.lobby)||void 0===i?void 0:i.partyId)||"None"})]}),m.self&&(0,l.jsxs)("div",{children:["Self: ",(0,l.jsx)("span",{className:"text-blue-400",children:m.self.puuid?"Detected":"Not detected"})]}),m.error&&(0,l.jsxs)("div",{className:"text-red-400",children:["Error: ","object"==typeof m.error?JSON.stringify(m.error):String(m.error)]}),(0,l.jsxs)("div",{className:"text-xs text-neutral-500",children:["Raw data: ",JSON.stringify(m).slice(0,100),"..."]})]}):(0,l.jsx)("div",{className:"text-yellow-400",children:"Waiting for LCU data..."})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Voice Room Status"}),(0,l.jsxs)("div",{className:"bg-neutral-800 rounded-lg p-3 text-sm space-y-1",children:[(0,l.jsxs)("div",{children:["Room ID: ",(0,l.jsx)("span",{className:"text-blue-400",children:(null==p?void 0:p.joinedRoomId)||"None"})]}),(0,l.jsxs)("div",{children:["Connected: ",(0,l.jsx)("span",{className:(null==p?void 0:p.connected)?"text-green-400":"text-red-400",children:(null==p?void 0:p.connected)?"Yes":"No"})]}),(0,l.jsxs)("div",{children:["Muted: ",(0,l.jsx)("span",{className:"text-blue-400",children:(null==p?void 0:p.muted)?"Yes":"No"})]}),(0,l.jsxs)("div",{children:["Speaking Users: ",(0,l.jsx)("span",{className:"text-blue-400",children:(null==p?void 0:null===(d=p.speakingUsers)||void 0===d?void 0:d.length)||0})]}),(null==p?void 0:p.connectionStats)&&(0,l.jsxs)("div",{children:["Connection Quality: ",(0,l.jsx)("span",{className:"text-blue-400",children:p.connectionStats.connectionQuality})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Troubleshooting"}),(0,l.jsxs)("div",{className:"bg-neutral-800 rounded-lg p-3 text-sm space-y-2",children:[(0,l.jsx)("div",{className:"text-neutral-300",children:"1. Make sure League of Legends is running and you're in a lobby or game"}),(0,l.jsx)("div",{className:"text-neutral-300",children:'2. Check that Supabase connection is working (should show "connected")'}),(0,l.jsx)("div",{className:"text-neutral-300",children:'3. If you\'re alone, try the "Start Manual Call" feature to test voice'}),(0,l.jsx)("div",{className:"text-neutral-300",children:"4. Check browser console (F12) for any JavaScript errors"}),(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsx)("button",{onClick:()=>{var e;console.log("Manual League detection test triggered"),(null===(e=window.hexcall)||void 0===e?void 0:e.onLcuUpdate)?console.log("LCU update listener exists"):console.log("No LCU update listener found - Electron process may need restart")},className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-xs font-medium",children:"Test League Detection"})})]})]})]})]})}):null}var m=s(3619),h=s(3633),b=s(1192);function g(e){let{onComplete:t,onSkip:s}=e,[n,a]=(0,o.useState)(0),[r,c]=(0,o.useState)([{id:"microphone",title:"Microphone Access",description:"Grant microphone permission for voice chat",status:"pending"},{id:"supabase",title:"Voice Service",description:"Check connection to voice chat servers",status:"pending"},{id:"league",title:"League of Legends",description:"Detect League client for auto-join",status:"pending",optional:!0}]),d=(e,t)=>{c(s=>s.map(s=>s.id===e?{...s,status:t}:s))},u=async()=>{d("microphone","checking");try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(e=>e.stop()),d("microphone","complete"),!0}catch(e){return d("microphone","error"),!1}},x=async()=>{d("supabase","checking");try{return d("supabase","complete"),!0}catch(e){return d("supabase","error"),!1}},m=async()=>{d("league","checking");try{return await new Promise(e=>setTimeout(e,1e3)),d("league","complete"),!0}catch(e){return d("league","error"),!1}},h=async()=>{await u(),await new Promise(e=>setTimeout(e,500)),await x(),await new Promise(e=>setTimeout(e,500)),await m()};(0,o.useEffect)(()=>{h()},[]);let g=r.filter(e=>!e.optional).every(e=>"complete"===e.status),p=e=>{switch(e.status){case"checking":return(0,l.jsx)(b.fCD,{className:"w-5 h-5 text-blue-400 animate-spin"});case"complete":return(0,l.jsx)(b.FJM,{className:"w-5 h-5 text-green-400"});case"error":return(0,l.jsx)(b.G5m,{className:"w-5 h-5 text-red-400"});default:return(0,l.jsx)("div",{className:"w-5 h-5 rounded-full border-2 border-neutral-400"})}},f=e=>{switch(e.status){case"complete":return"border-green-400/50 bg-green-400/10";case"error":return"border-red-400/50 bg-red-400/10";case"checking":return"border-blue-400/50 bg-blue-400/10";default:return"border-neutral-600/50 bg-neutral-800/50"}};return(0,l.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-neutral-900/95 backdrop-blur-md border border-neutral-700/50 rounded-xl p-8 max-w-md w-full mx-4",children:[(0,l.jsxs)("div",{className:"text-center mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gradient mb-2",children:"Welcome to Hexcall!"}),(0,l.jsx)("p",{className:"text-neutral-400",children:"Let's set up your voice chat experience"})]}),(0,l.jsx)("div",{className:"space-y-4 mb-8",children:r.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-lg border transition-all ".concat(f(e)),children:[p(e),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("h3",{className:"font-medium text-white",children:e.title}),e.optional&&(0,l.jsx)("span",{className:"text-xs px-2 py-1 bg-neutral-700 text-neutral-300 rounded",children:"Optional"})]}),(0,l.jsx)("p",{className:"text-sm text-neutral-400",children:e.description}),"error"===e.status&&"microphone"===e.id&&(0,l.jsx)("p",{className:"text-xs text-red-400 mt-1",children:"Please allow microphone access in your browser"}),"error"===e.status&&"supabase"===e.id&&(0,l.jsxs)("div",{className:"text-xs text-red-400 mt-1",children:[(0,l.jsx)("p",{children:"Voice servers not configured."}),(0,l.jsx)(i(),{href:"/settings",className:"text-blue-400 hover:underline",children:"Configure in Settings →"})]})]})]},e.id))}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:s,className:"flex-1 px-4 py-2 border border-neutral-600 text-neutral-300 rounded-lg hover:bg-neutral-800 transition-colors",children:"Skip Setup"}),(0,l.jsx)("button",{onClick:t,disabled:!g,className:"flex-1 px-4 py-2 rounded-lg transition-colors ".concat(g?"bg-violet-600 hover:bg-violet-700 text-white":"bg-neutral-700 text-neutral-400 cursor-not-allowed"),children:g?"Get Started":"Completing Setup..."})]}),(0,l.jsx)("div",{className:"mt-6 pt-4 border-t border-neutral-700/50",children:(0,l.jsxs)("div",{className:"flex items-center justify-center gap-4 text-xs text-neutral-400",children:[(0,l.jsxs)(i(),{href:"/settings",className:"flex items-center gap-1 hover:text-white transition-colors",children:[(0,l.jsx)(b.p4t,{className:"w-3 h-3"}),"Settings"]}),(0,l.jsx)("span",{children:"•"}),(0,l.jsx)("span",{children:"Need help? Check the settings page"})]})})]})})}function p(e){let{className:t=""}=e,[s,n]=(0,o.useState)([]),[a,r]=(0,o.useState)(!1);if((0,o.useEffect)(()=>{let e=()=>{var t;let s=[];null===(t=navigator.mediaDevices)||void 0===t||t.getUserMedia({audio:!0}).then(e=>{e.getTracks().forEach(e=>e.stop())}).catch(()=>{s.push({type:"warning",title:"Microphone Permission Needed",description:"Grant microphone access to use voice chat.",action:{label:"Grant Permission",onClick:()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(t=>{t.getTracks().forEach(e=>e.stop()),setTimeout(()=>e(),1e3)}).catch(console.error)}}})}),n(s)};e()},[]),0===s.length)return null;let c=s.filter(e=>"error"===e.type).length,d=s.filter(e=>"warning"===e.type).length,u=e=>{switch(e){case"error":return(0,l.jsx)(b.gJy,{className:"w-4 h-4 text-red-400"});case"warning":return(0,l.jsx)(b.gJy,{className:"w-4 h-4 text-yellow-400"});case"info":return(0,l.jsx)(b.DAO,{className:"w-4 h-4 text-blue-400"})}},x=e=>{switch(e){case"error":return"border-red-400/50 bg-red-400/10";case"warning":return"border-yellow-400/50 bg-yellow-400/10";case"info":return"border-blue-400/50 bg-blue-400/10"}};return(0,l.jsxs)("div",{className:"glass rounded-xl p-4 ".concat(t),children:[(0,l.jsxs)("button",{onClick:()=>r(!a),className:"w-full flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(b.gJy,{className:"w-5 h-5 ".concat(c>0?"text-red-400":"text-yellow-400")}),(0,l.jsxs)("div",{className:"text-left",children:[(0,l.jsxs)("h3",{className:"text-sm font-medium text-white",children:["Setup Issues (",s.length,")"]}),(0,l.jsxs)("p",{className:"text-xs text-neutral-400",children:[c>0&&"".concat(c," error").concat(c>1?"s":""),c>0&&d>0&&", ",d>0&&"".concat(d," warning").concat(d>1?"s":"")]})]})]}),(0,l.jsx)("div",{className:"text-neutral-400 text-xs",children:a?"▼":"▶"})]}),a&&(0,l.jsx)("div",{className:"mt-4 space-y-3",children:s.map((e,t)=>(0,l.jsx)("div",{className:"p-3 rounded-lg border ".concat(x(e.type)),children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[u(e.type),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"text-sm font-medium text-white",children:e.title}),(0,l.jsx)("p",{className:"text-xs text-neutral-400 mt-1",children:e.description}),e.action&&(0,l.jsx)("div",{className:"mt-2",children:e.action.href?(0,l.jsxs)(i(),{href:e.action.href,className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:[e.action.label," →"]}):(0,l.jsx)("button",{onClick:e.action.onClick,className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:e.action.label})})]})]})},t))})]})}function f(e){let{onClose:t}=e,[s,n]=(0,o.useState)(0),a=[{id:"welcome",title:"Welcome to Hexcall!",description:"Your premium voice chat companion for League of Legends. Let's get you started in just a few steps.",icon:b.gmG,tip:"This guide will take less than 2 minutes"},{id:"league",title:"Auto-Join with League",description:"Start League of Legends and enter a lobby or game. Hexcall will automatically detect your party and create a voice room.",icon:b.iVx,tip:"Works with ranked, normal, ARAM, and custom games"},{id:"manual",title:"Manual Voice Calls",description:"Create a manual call and share your 6-character code with friends. Perfect for Discord-style voice chats.",icon:b.I$,tip:"Your code is always visible in the top bar"},{id:"controls",title:"Voice Controls",description:"Use the microphone button to mute/unmute, or enable push-to-talk in settings. All controls are easily accessible.",icon:b.uYL,tip:"Push-to-talk works even when the app is minimized"}],r=a[s];return(0,l.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-neutral-900/95 backdrop-blur-md border border-neutral-700/50 rounded-xl max-w-md w-full mx-4 animate-fadeInUp",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-neutral-700/50",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-violet-500 to-cyan-500 rounded-lg flex items-center justify-center",children:(0,l.jsx)(r.icon,{className:"w-4 h-4 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-white",children:r.title}),(0,l.jsxs)("p",{className:"text-xs text-neutral-400",children:["Step ",s+1," of ",a.length]})]})]}),(0,l.jsx)("button",{onClick:t,className:"p-2 hover:bg-neutral-800 rounded-lg transition-colors",children:(0,l.jsx)(b.aHS,{className:"w-4 h-4 text-neutral-400"})})]}),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("p",{className:"text-neutral-300 leading-relaxed mb-4",children:r.description}),r.tip&&(0,l.jsx)("div",{className:"p-3 bg-blue-400/10 border border-blue-400/20 rounded-lg mb-6",children:(0,l.jsxs)("p",{className:"text-xs text-blue-400",children:["\uD83D\uDCA1 ",(0,l.jsx)("strong",{children:"Tip:"})," ",r.tip]})}),(0,l.jsx)("div",{className:"flex gap-2 mb-6",children:a.map((e,t)=>(0,l.jsx)("div",{className:"h-2 rounded-full flex-1 transition-colors ".concat(t<=s?"bg-violet-500":"bg-neutral-700")},t))})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-neutral-700/50",children:[(0,l.jsx)("button",{onClick:()=>{s>0&&n(s-1)},disabled:0===s,className:"px-4 py-2 text-neutral-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Back"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:t,className:"px-4 py-2 text-neutral-400 hover:text-white transition-colors",children:"Skip"}),(0,l.jsxs)("button",{onClick:()=>{s<a.length-1?n(s+1):t()},className:"flex items-center gap-2 px-4 py-2 bg-violet-600 hover:bg-violet-700 text-white rounded-lg transition-colors",children:[s===a.length-1?"Get Started":"Next",s<a.length-1&&(0,l.jsx)(b.Dli,{className:"w-3 h-3"})]})]})]})]})})}function j(){let{joinedRoomId:e,connected:t,joinCall:s,leaveCall:n,muted:r,setMuted:b,speakingUsers:j,isSelfSpeaking:v,userCode:N,joinByCode:w,createManualCall:y,setUserVolume:k,getUserVolume:C,connectionStats:S,connectedPeers:L,isHost:E,banUser:I,kickUser:U}=(0,c.M)(),[M,R]=(0,o.useState)("Waiting for League..."),[D,P]=(0,o.useState)([]),[T,A]=(0,o.useState)("Unknown"),[J,V]=(0,o.useState)(!1),[G,_]=(0,o.useState)(""),[O,F]=(0,o.useState)(!1),[Y,W]=(0,o.useState)(!1),[z,B]=(0,o.useState)("CapsLock"),[H,K]=(0,o.useState)(!1),[$,Q]=(0,o.useState)(!1),[X,Z]=(0,o.useState)(!1),[q,ee]=(0,o.useState)(!1),[et,es]=(0,o.useState)({}),[el,en]=(0,o.useState)(null),[ea,er]=(0,o.useState)(null),[ei,eo]=(0,o.useState)(!1),[ec,ed]=(0,o.useState)(10),[eu,ex]=(0,o.useState)(!1),[em,eh]=(0,o.useState)(1),[eb,eg]=(0,o.useState)(1),[ep,ef]=(0,o.useState)(!0),{toasts:ej,showInfo:ev,showSuccess:eN,showError:ew,removeToast:ey}=(0,m.p)(),ek=(0,o.useRef)("");(0,o.useEffect)(()=>{try{let l=localStorage.getItem("hexcall-push-to-talk");if(l){let e=JSON.parse(l);W(e.enabled||!1),B(e.key||"CapsLock")}let n=localStorage.getItem("hexcall-volume-settings");if(n){var e,t,s;let l=JSON.parse(n);eh(null!==(e=l.masterVolume)&&void 0!==e?e:1),eg(null!==(t=l.microphoneGain)&&void 0!==t?t:1),ex(null!==(s=l.deafened)&&void 0!==s&&s)}let a=localStorage.getItem("hexcall-auto-join");ef("0"!==a),localStorage.getItem("hexcall-onboarding-seen")?Z(!0):Q(!0)}catch(e){}},[]),(0,o.useEffect)(()=>{try{localStorage.setItem("hexcall-volume-settings",JSON.stringify({masterVolume:em,microphoneGain:eb,deafened:eu}))}catch(e){}},[em,eb,eu]),(0,o.useEffect)(()=>{var s,l;let n=null===(l=window.hexcall)||void 0===l?void 0:null===(s=l.onLcuUpdate)||void 0===s?void 0:s.call(l,s=>{let l="string"==typeof(null==s?void 0:s.phase)?s.phase:"Unknown";A(l),R({Lobby:"In Lobby",Matchmaking:"Finding Match...",ReadyCheck:"Match Ready!",ChampSelect:"Champion Select",InProgress:"In Game",EndOfGame:"Game Complete",NotFound:"League Not Running",Unknown:"Connecting..."}[l]||l);let n=(null==s?void 0:s.members)||[],a=["top","jungle","mid","adc","support","bottom"];P(n.map(e=>{var t;return{...e,normalizedRole:"bottom"===e.assignedPosition?"adc":null===(t=e.assignedPosition)||void 0===t?void 0:t.toLowerCase()}}).sort((e,t)=>{let s=a.indexOf(e.normalizedRole||""),l=a.indexOf(t.normalizedRole||"");return -1!==s&&-1!==l?s-l:-1!==s?-1:-1!==l?1:(e.summonerName||e.gameName||"").localeCompare(t.summonerName||t.gameName||"")}).slice(0,5));let r=null==e?void 0:e.startsWith("manual-"),i=["Matchmaking","ReadyCheck","ChampSelect","InProgress","Lobby"];if(r&&i.includes(l)&&n.length>=2){let t=n.map(e=>e.puuid||e.summonerId||"").filter(Boolean).sort().join("-").slice(0,32);t&&t!==e&&(er({roomId:t,memberCount:n.length}),ei||(eo(!0),ed(10)))}else if(!r&&i.includes(l)&&n.length>=2&&!t){let e=n.map(e=>e.puuid||e.summonerId||"").filter(Boolean).sort().join("-").slice(0,32);e?er({roomId:e,memberCount:n.length}):er(null)}else er(null)});return()=>{n&&n()}},[ei,t]);let eC=(0,o.useMemo)(()=>["Matchmaking","ReadyCheck","ChampSelect","Lobby","InProgress"].includes("string"==typeof T?T:""),[T]);(0,o.useEffect)(()=>{if(!L)return;let e=Date.now(),t=new Set(L.map(e=>e.id));es(s=>{let l={...s};return L.forEach(t=>{l[t.id]||(l[t.id]=e)}),Object.keys(l).forEach(e=>{t.has(e)||delete l[e]}),l})},[L]),(0,o.useEffect)(()=>{if(!t||!(null==L?void 0:L.length))return;let e=setInterval(()=>{es(e=>({...e}))},3e4);return()=>clearInterval(e)},[t,null==L?void 0:L.length]),(0,o.useEffect)(()=>{let e=e=>{var t;!el||(null===(t=e.target)||void 0===t?void 0:t.closest(".participant-card"))||en(null)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[el]),(0,o.useEffect)(()=>{if(!ei)return;if(ec<=0){eo(!1),ed(10);return}let e=setTimeout(()=>{ed(e=>e-1)},1e3);return()=>clearTimeout(e)},[ei,ec]);let eS=e=>{let t=Math.floor((Date.now()-e)/1e3);if(t<60)return"".concat(t,"s");let s=Math.floor(t/60);return s<60?"".concat(s,"m"):"".concat(Math.floor(s/60),"h ").concat(s%60,"m")},eL=async()=>{try{await navigator.clipboard.writeText(N||"")}catch(e){console.error("Failed to copy code:",e)}},eE=async()=>{try{await (null==y?void 0:y())}catch(e){console.error("Failed to create manual call:",e)}},eI=async()=>{if(G.trim()){F(!0);try{await (null==w?void 0:w(G.trim())),V(!1),_("")}catch(e){console.error("Failed to join by code:",e)}finally{F(!1)}}},eU=async()=>{eo(!1),ed(10);try{(null==e?void 0:e.startsWith("manual-"))&&(await (null==n?void 0:n()),await new Promise(e=>setTimeout(e,200))),await (null==s?void 0:s(!0))}catch(e){console.error("Failed to switch to League call:",e)}},eM=e=>{eh(e),L&&L.forEach(t=>{t.isSelf||null==k||k(t.id,e)})},eR=e=>{eg(e)};return(0,o.useEffect)(()=>{let e=e=>{let t=null==e?void 0:e.detail,s=ek.current;if(ek.current=t,"connecting"===t){ev("Reconnecting…");try{(0,h.G)("reconnect")}catch(e){}}else if("connected"===t&&("failed"===s||"disconnected"===s||"connecting"===s))eN("Reconnected");else if("failed"===t||"disconnected"===t){ew("Connection lost","Attempting to reconnect…");try{(0,h.G)("reconnect_failed")}catch(e){}}};return window.addEventListener("hexcall:voice-state",e),()=>window.removeEventListener("hexcall:voice-state",e)},[ev,eN,ew]),(0,l.jsxs)("div",{className:"bg-hextech flex flex-col h-full ".concat(t&&e?"pb-16":""),children:[(0,l.jsx)(a(),{children:(0,l.jsx)("title",{children:"Hexcall - League Voice Chat"})}),(0,l.jsxs)("header",{className:"flex items-center justify-between px-6 py-4 border-b border-white/10",children:[(0,l.jsxs)("div",{className:"flex items-center gap-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("h1",{className:"text-xl font-semibold text-gradient",children:"Hexcall"}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,l.jsx)(d.iVx,{className:"text-neutral-400"}),(0,l.jsx)("span",{className:(e=>{let t="string"==typeof e?e:"";return t.includes("Finding")||t.includes("Connecting")?"text-yellow-400":t.includes("Ready")||t.includes("Game")?"text-green-400":t.includes("Not Running")?"text-red-400":"text-blue-400"})(M),children:M})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-neutral-900/50 rounded-lg border border-white/10",children:[(0,l.jsx)("span",{className:"text-xs text-neutral-400",children:"Your Code:"}),(0,l.jsxs)("button",{onClick:eL,className:"flex items-center gap-2 text-sm font-mono font-bold text-white hover:text-violet-400 transition-colors",title:"Click to copy",children:[N,(0,l.jsx)(d.esY,{className:"w-3 h-3"})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[ea&&(null==e?void 0:e.startsWith("manual-"))&&(0,l.jsxs)("button",{onClick:eU,className:"px-3 py-2 rounded-lg bg-green-500/20 text-green-400 hover:bg-green-500/30 transition-colors flex items-center gap-2 text-sm",title:"League game call available",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,l.jsxs)("span",{children:["League Call (",ea.memberCount,")"]})]}),(0,l.jsx)("button",{onClick:()=>ee(!0),className:"p-2 rounded-lg hover:bg-white/10 transition-colors",title:"Quick Start Guide",children:(0,l.jsx)(d.g_g,{className:"w-5 h-5 text-neutral-400"})}),(0,l.jsx)(i(),{href:"/settings",className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:(0,l.jsx)(d.mdD,{className:"w-5 h-5 text-neutral-400"})})]})]}),(0,l.jsx)("main",{className:"flex-1 flex flex-col",children:t&&e?(0,l.jsx)("div",{className:"flex-1 p-6",children:(0,l.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-violet-500 to-cyan-500 flex items-center justify-center",children:(0,l.jsx)(d.I$,{className:"w-4 h-4 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Voice Chat"}),(0,l.jsxs)("p",{className:"text-sm text-neutral-400",children:[(L||[]).length," participants connected"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm text-neutral-400",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,l.jsx)("span",{children:"Active call"})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4",children:(L||[]).map((t,s)=>{var n;let a=t.isSelf?v:null==j?void 0:j.has(t.id),i=t.isSelf,o=i&&r,c=et[t.id],x=el===t.id,m=t.riotId||t.name||t.id.slice(0,8);return(0,l.jsx)("div",{className:"participant-card group relative",children:(0,l.jsxs)("div",{className:"\n												bg-gradient-to-br from-neutral-800/50 to-neutral-900/50 backdrop-blur-sm\n												border border-neutral-700/50 rounded-2xl p-4 h-full\n												transition-all duration-300 cursor-pointer\n												hover:border-neutral-600/50 hover:shadow-lg hover:shadow-neutral-900/20\n												".concat(i?"ring-1 ring-violet-500/30 bg-gradient-to-br from-violet-900/20 to-neutral-900/50":"","\n												").concat(x?"ring-2 ring-blue-400/50 shadow-lg shadow-blue-400/10":"","\n												").concat(a?"ring-2 ring-green-400/50 shadow-lg shadow-green-400/10":"","\n												").concat(o?"ring-2 ring-red-400/50 shadow-lg shadow-red-400/10":"","\n											"),onClick:()=>en(x?null:t.id),children:[(0,l.jsx)("div",{className:"absolute top-3 right-3",children:o?(0,l.jsx)("div",{className:"w-2 h-2 bg-red-400 rounded-full animate-pulse",title:"Muted"}):a?(0,l.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse",title:"Speaking"}):(0,l.jsx)("div",{className:"w-2 h-2 bg-neutral-500 rounded-full",title:"Connected"})}),(0,l.jsx)("div",{className:"flex justify-center mb-4",children:(0,l.jsxs)("div",{className:"\n														relative w-20 h-20 rounded-2xl overflow-hidden\n														transition-all duration-300\n														".concat(o?"ring-2 ring-red-400/50":"","\n														").concat(a?"ring-2 ring-green-400/50":"","\n														").concat(a||o?"":"ring-1 ring-neutral-600/30","\n													"),children:[t.iconUrl?(0,l.jsx)("img",{src:t.iconUrl,alt:m,className:"w-full h-full object-cover",onError:e=>{let t=e.target;t.style.display="none";let s=t.nextElementSibling;s&&(s.style.display="flex")}}):null,(0,l.jsx)("div",{className:"\n															w-full h-full bg-gradient-to-br from-neutral-600 to-neutral-700 \n															flex items-center justify-center\n															".concat(t.iconUrl?"hidden":"flex","\n														"),children:(0,l.jsx)(d.I$,{className:"w-8 h-8 text-neutral-300"})})]})}),(0,l.jsxs)("div",{className:"text-center space-y-2",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("div",{className:"font-semibold text-white text-sm truncate",children:[m,i&&(0,l.jsx)("span",{className:"text-violet-400 ml-1 font-normal",children:"(You)"})]}),(0,l.jsxs)("div",{className:"text-xs text-neutral-400",children:["Connected: ",c?eS(c):"0s"]})]}),!i&&x&&(0,l.jsx)("div",{className:"pt-3 border-t border-neutral-700/50",children:(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("div",{className:"text-xs text-neutral-400 font-medium",children:"Volume Control"}),(0,l.jsx)(u,{userId:t.id,initialVolume:null!==(n=null==C?void 0:C(t.id))&&void 0!==n?n:1,onVolumeChange:(e,t)=>null==k?void 0:k(e,t),size:"sm"}),E&&(null==e?void 0:e.startsWith("manual-"))&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:"text-xs text-neutral-400 font-medium",children:"Host Controls"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)("button",{onClick:e=>{e.stopPropagation(),confirm("Kick ".concat(m," from the call?"))&&(null==U||U(t.id))},className:"flex-1 flex items-center justify-center gap-1 px-2 py-1 bg-yellow-600/20 hover:bg-yellow-600/30 text-yellow-400 text-xs rounded-lg transition-colors",title:"Kick ".concat(m),children:[(0,l.jsx)(d.jAZ,{className:"w-3 h-3"}),(0,l.jsx)("span",{children:"Kick"})]}),(0,l.jsxs)("button",{onClick:e=>{e.stopPropagation(),confirm("Ban ".concat(m," from the call? They won't be able to rejoin."))&&(null==I||I(t.id))},className:"flex-1 flex items-center justify-center gap-1 px-2 py-1 bg-red-600/20 hover:bg-red-600/30 text-red-400 text-xs rounded-lg transition-colors",title:"Ban ".concat(m),children:[(0,l.jsx)(d.YS4,{className:"w-3 h-3"}),(0,l.jsx)("span",{children:"Ban"})]})]})]})]})})]}),!i&&(0,l.jsx)("div",{className:"absolute inset-0 bg-blue-500/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]})},t.id)})}),(!L||0===L.length)&&(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-neutral-800 flex items-center justify-center",children:(0,l.jsx)(d.I$,{className:"w-8 h-8 text-neutral-400"})}),(0,l.jsx)("h4",{className:"text-lg font-medium text-white mb-2",children:"No participants yet"}),(0,l.jsx)("p",{className:"text-neutral-400",children:"Waiting for others to join the call..."})]})]})}):(0,l.jsxs)("div",{className:"flex-1 flex",children:[(0,l.jsx)("div",{className:"flex-1 flex items-center justify-center border-r border-white/10",children:(0,l.jsxs)("div",{className:"text-center max-w-sm mx-auto px-6 py-12",children:[(0,l.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-violet-500 to-cyan-500 flex items-center justify-center",children:(0,l.jsx)(d.wEH,{className:"w-8 h-8 text-white"})}),(0,l.jsx)("h2",{className:"text-xl font-bold text-white mb-3",children:"Manual Calls"}),(0,l.jsx)("p",{className:"text-neutral-400 text-sm mb-6",children:"Create or join a call with friends using a code"}),(0,l.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,l.jsxs)("button",{onClick:eE,className:"w-full btn-primary px-6 py-3 rounded-xl font-semibold flex items-center justify-center gap-3 hover:scale-105 transition-transform",children:[(0,l.jsx)(d.wEH,{className:"w-4 h-4"}),"Start Manual Call"]}),(0,l.jsxs)("button",{onClick:()=>V(!0),className:"w-full px-6 py-3 rounded-xl chip hover:bg-white/10 border border-white/10 font-semibold flex items-center justify-center gap-3 transition-all",children:[(0,l.jsx)(d.I7T,{className:"w-4 h-4"}),"Join by Code"]})]}),(0,l.jsx)("div",{className:"text-xs text-neutral-500",children:"Share your code with friends to connect"})]})}),(0,l.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-center max-w-sm mx-auto px-6 py-12",children:ea&&!ep?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center",children:(0,l.jsx)(d.iVx,{className:"w-8 h-8 text-white"})}),(0,l.jsx)("h2",{className:"text-xl font-bold text-white mb-3",children:"League Call Active"}),(0,l.jsxs)("p",{className:"text-neutral-400 text-sm mb-6",children:[ea.memberCount," teammates are waiting in voice chat"]}),(0,l.jsxs)("button",{onClick:eU,className:"w-full btn-primary px-6 py-3 rounded-xl font-semibold flex items-center justify-center gap-3 hover:scale-105 transition-transform mb-4",children:[(0,l.jsx)(d.iVx,{className:"w-4 h-4"}),"Join League Call"]}),(0,l.jsx)("div",{className:"text-xs text-neutral-500",children:"Auto-join is disabled in settings"})]}):eC?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center",children:(0,l.jsx)(d.iVx,{className:"w-8 h-8 text-white"})}),(0,l.jsx)("h2",{className:"text-xl font-bold text-white mb-3",children:"League Chat"}),(0,l.jsx)("p",{className:"text-neutral-400 text-sm mb-6",children:ep?"Auto-join is enabled. You'll connect automatically when the game starts.":"Ready to connect with your League teammates"}),!ep&&(0,l.jsxs)("button",{onClick:()=>null==s?void 0:s(!0),className:"w-full btn-primary px-6 py-3 rounded-xl font-semibold flex items-center justify-center gap-3 hover:scale-105 transition-transform mb-4",children:[(0,l.jsx)(d.I7T,{className:"w-4 h-4"}),"Join League Chat"]}),(0,l.jsx)("div",{className:"text-xs text-neutral-500",children:M})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl bg-neutral-800 flex items-center justify-center",children:(0,l.jsx)(d.iVx,{className:"w-8 h-8 text-neutral-400"})}),(0,l.jsx)("h2",{className:"text-xl font-bold text-white mb-3",children:"League Chat"}),(0,l.jsx)("p",{className:"text-neutral-400 text-sm mb-6",children:"Start League of Legends to automatically connect with teammates"}),(0,l.jsx)("div",{className:"text-xs text-neutral-500 mb-4",children:M}),(0,l.jsx)(p,{})]})})})]})}),J&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,l.jsxs)("div",{className:"bg-neutral-900 rounded-2xl p-6 w-full max-w-md border border-white/10",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Join by Code"}),(0,l.jsx)("p",{className:"text-neutral-400 text-sm mb-6",children:"Enter a 6-character code to join someone's call"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("input",{type:"text",placeholder:"Enter code (e.g. ABC123)",value:G,onChange:e=>_(e.target.value.toUpperCase()),maxLength:6,className:"w-full px-4 py-3 bg-neutral-800 border border-neutral-700 rounded-xl text-white font-mono text-center text-lg tracking-wider focus:border-violet-500 focus:outline-none",autoFocus:!0}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:()=>{V(!1),_("")},className:"flex-1 px-4 py-3 rounded-xl chip hover:bg-white/10 border border-white/10 transition-all",children:"Cancel"}),(0,l.jsx)("button",{onClick:eI,disabled:6!==G.length||O,className:"flex-1 btn-primary px-4 py-3 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:O?"Joining...":"Join Call"})]})]})]})}),(0,l.jsx)(x,{visible:H,onClose:()=>K(!1)}),$&&(0,l.jsx)(g,{onComplete:()=>{Q(!1),Z(!0),localStorage.setItem("hexcall-onboarding-seen","true")},onSkip:()=>{Q(!1),Z(!0),localStorage.setItem("hexcall-onboarding-seen","true")}}),q&&(0,l.jsx)(f,{onClose:()=>ee(!1)}),(0,l.jsx)(m.I,{toasts:ej,onRemove:ey}),ei&&ea&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,l.jsxs)("div",{className:"bg-neutral-900 rounded-2xl p-6 w-full max-w-md border border-white/10 relative overflow-hidden",children:[(0,l.jsx)("div",{className:"absolute top-0 left-0 h-1 bg-gradient-to-r from-violet-500 to-cyan-500 transition-all duration-1000",style:{width:"".concat(ec/10*100,"%")}}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center",children:(0,l.jsx)(d.iVx,{className:"w-8 h-8 text-white"})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"League Game Detected!"}),(0,l.jsxs)("p",{className:"text-neutral-400 text-sm mb-6",children:["A League game call is available with ",ea.memberCount," teammates. Would you like to switch from your manual call?"]}),(0,l.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,l.jsxs)("button",{onClick:eU,className:"w-full btn-primary px-6 py-3 rounded-xl font-semibold flex items-center justify-center gap-3 hover:scale-105 transition-transform",children:[(0,l.jsx)(d.iVx,{}),"Join League Call (",ea.memberCount," players)"]}),(0,l.jsx)("button",{onClick:()=>{eo(!1),ed(10)},className:"w-full px-6 py-3 rounded-xl chip hover:bg-white/10 border border-white/10 font-semibold transition-all",children:"Stay in Manual Call"})]}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsxs)("p",{className:"text-xs text-neutral-500",children:["Auto-staying in current call in ",ec,"s"]})})]})]})}),t&&e&&(0,l.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-40 bg-neutral-950/95 backdrop-blur-sm border-t border-white/10",children:(0,l.jsx)("div",{className:"px-6 py-3",children:(0,l.jsxs)("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,l.jsx)("span",{className:"text-green-400",children:"Connected"}),(0,l.jsx)("span",{className:"text-neutral-400",children:"•"}),(0,l.jsxs)("span",{className:"text-neutral-400",children:[(L||[]).length," in call"]})]}),v&&!r&&!eu&&(0,l.jsx)("div",{className:"flex items-center gap-1 text-green-400 text-sm",children:(0,l.jsx)(d.uYL,{className:"w-3 h-3 animate-pulse"})})]}),(0,l.jsx)("div",{className:"flex items-center gap-2 text-sm text-neutral-400",children:(0,l.jsxs)("span",{children:["Room: ",e]})}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)("button",{onClick:()=>null==b?void 0:b(!r),className:"p-2 rounded-lg transition-colors ".concat(r||eu?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-neutral-700/50 text-neutral-300 hover:bg-neutral-700"),title:r?"Unmute":"Mute",children:r||eu?(0,l.jsx)(d.RgM,{className:"w-4 h-4"}):(0,l.jsx)(d.uYL,{className:"w-4 h-4"})}),(0,l.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 bg-neutral-900/95 backdrop-blur-sm border border-neutral-700/50 rounded-lg p-3 shadow-lg min-w-[120px] opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto",children:[(0,l.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-neutral-700/50"}),(0,l.jsx)("div",{className:"text-xs text-neutral-400 mb-2 text-center",children:"Microphone Gain"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:"range",min:"0",max:"2",step:"0.1",value:eb,onChange:e=>eR(parseFloat(e.target.value)),className:"w-full h-2 bg-neutral-700 rounded-lg appearance-none cursor-pointer slider",style:{background:"linear-gradient(to right, rgb(139 92 246) 0%, rgb(139 92 246) ".concat(eb/2*100,"%, rgb(64 64 64) ").concat(eb/2*100,"%, rgb(64 64 64) 100%)")}}),(0,l.jsxs)("div",{className:"text-xs text-neutral-400 text-center mt-1",children:[Math.round(100*eb),"%"]})]})]})]}),(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)("button",{onClick:()=>{ex(!eu),eu||null==b||b(!0)},className:"p-2 rounded-lg transition-colors ".concat(eu?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-neutral-700/50 text-neutral-300 hover:bg-neutral-700"),title:eu?"Undeafen":"Deafen (mute speakers)",children:eu?(0,l.jsx)(d.WjQ,{className:"w-4 h-4"}):em>.5?(0,l.jsx)(d.R$S,{className:"w-4 h-4"}):(0,l.jsx)(d.KLu,{className:"w-4 h-4"})}),(0,l.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 bg-neutral-900/95 backdrop-blur-sm border border-neutral-700/50 rounded-lg p-3 shadow-lg min-w-[120px] opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto",children:[(0,l.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-neutral-700/50"}),(0,l.jsx)("div",{className:"text-xs text-neutral-400 mb-2 text-center",children:"Output Volume"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:em,onChange:e=>eM(parseFloat(e.target.value)),className:"w-full h-2 bg-neutral-700 rounded-lg appearance-none cursor-pointer slider",style:{background:"linear-gradient(to right, rgb(139 92 246) 0%, rgb(139 92 246) ".concat(100*em,"%, rgb(64 64 64) ").concat(100*em,"%, rgb(64 64 64) 100%)")}}),(0,l.jsxs)("div",{className:"text-xs text-neutral-400 text-center mt-1",children:[Math.round(100*em),"%"]})]})]})]}),(0,l.jsx)("button",{onClick:()=>null==n?void 0:n(),className:"p-2 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors",title:"Leave Call",children:(0,l.jsx)(d.tNS,{className:"w-4 h-4"})}),(0,l.jsx)(i(),{href:"/settings",className:"p-2 rounded-lg bg-neutral-700/50 text-neutral-300 hover:bg-neutral-700 transition-colors",title:"Settings",children:(0,l.jsx)(d.mdD,{className:"w-4 h-4"})})]})]})})})]})}},9008:function(e,t,s){e.exports=s(494)}},function(e){e.O(0,[365,664,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);